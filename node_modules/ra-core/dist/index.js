var qc=Object.create;var nt=Object.defineProperty,Kc=Object.defineProperties,Xc=Object.getOwnPropertyDescriptor,el=Object.getOwnPropertyDescriptors,tl=Object.getOwnPropertyNames,jr=Object.getOwnPropertySymbols,rl=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty,Wa=Object.prototype.propertyIsEnumerable;var Ha=(e,t,r)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))fn.call(t,r)&&Ha(e,r,t[r]);if(jr)for(var r of jr(t))Wa.call(t,r)&&Ha(e,r,t[r]);return e},w=(e,t)=>Kc(e,el(t)),Ya=e=>nt(e,"__esModule",{value:!0}),n=(e,t)=>nt(e,"name",{value:t,configurable:!0});var Ae=e=>typeof e=="symbol"?e:e+"",N=(e,t)=>{var r={};for(var o in e)fn.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&jr)for(var o of jr(e))t.indexOf(o)<0&&Wa.call(e,o)&&(r[o]=e[o]);return r};var Ja=(e,t)=>{for(var r in t)nt(e,r,{get:t[r],enumerable:!0})},$a=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of tl(t))!fn.call(e,a)&&(r||a!=="default")&&nt(e,a,{get:()=>t[a],enumerable:!(o=Xc(t,a))||o.enumerable});return e},E=(e,t)=>$a(Ya(nt(e!=null?qc(rl(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ol=(e=>(t,r)=>e&&e.get(t)||(r=$a(Ya({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Sm={};Ja(Sm,{AUTH_CHECK:()=>jn,AUTH_ERROR:()=>kn,AUTH_GET_PERMISSIONS:()=>Gn,AUTH_LOGIN:()=>Un,AUTH_LOGOUT:()=>Vn,AdminRouter:()=>gn,AuthContext:()=>st,Authenticated:()=>Bl,BasenameContextProvider:()=>yn,CREATE:()=>uo,ChoicesContext:()=>Fr,ChoicesContextProvider:()=>$p,ComponentPropType:()=>zs,CoreAdmin:()=>hd,CoreAdminContext:()=>No,CoreAdminRoutes:()=>Oo,CoreAdminUI:()=>$n,CreateBase:()=>Xd,CreateContext:()=>Lt,CreateContextProvider:()=>oa,CreateController:()=>ep,CustomRoutes:()=>Gi,DEFAULT_LOCALE:()=>Tn,DELETE:()=>po,DELETE_MANY:()=>mo,DataProviderContext:()=>pt,EditBase:()=>np,EditContext:()=>Et,EditContextProvider:()=>sa,EditController:()=>ap,ExporterContext:()=>Zi,FieldTitle:()=>Gs,Form:()=>qp,FormDataConsumer:()=>hc,FormGroupContext:()=>Or,FormGroupContextProvider:()=>dm,FormGroupsContext:()=>Nt,FormGroupsProvider:()=>Ma,GET_LIST:()=>no,GET_MANY:()=>so,GET_MANY_REFERENCE:()=>io,GET_ONE:()=>ao,HIDE_FILTER:()=>Mt,HttpError:()=>go,I18N_CHANGE_LOCALE:()=>Tm,I18N_TRANSLATE:()=>Mm,I18nContext:()=>ut,I18nContextProvider:()=>$t,InferenceTypes:()=>Gd,InferredElement:()=>Q,LabelPrefixContext:()=>Xt,LabelPrefixContextProvider:()=>In,ListBase:()=>mp,ListContext:()=>vt,ListContextProvider:()=>fa,ListController:()=>fp,ListFilterContext:()=>wt,ListPaginationContext:()=>It,ListSortContext:()=>Dt,NotificationContext:()=>Ht,NotificationContextProvider:()=>Mn,OptionalRecordContextProvider:()=>aa,Ready:()=>Hr,RecordContext:()=>Er,RecordContextProvider:()=>Pe,Resource:()=>Bn,ResourceContext:()=>cr,ResourceContextProvider:()=>ye,ResourceDefinitionContext:()=>Io,ResourceDefinitionContextProvider:()=>Jn,SET_FILTER:()=>Ve,SET_PAGE:()=>tt,SET_PER_PAGE:()=>xt,SET_SORT:()=>ht,SHOW_FILTER:()=>Ct,SORT_ASC:()=>ue,SORT_DESC:()=>Rr,SaveContext:()=>xr,SaveContextProvider:()=>Cr,ShowBase:()=>Qp,ShowContext:()=>Ft,ShowContextProvider:()=>xa,ShowController:()=>_p,StoreContext:()=>Wt,StoreContextProvider:()=>Cn,StoreSetter:()=>yl,TestTranslationProvider:()=>Rl,TranslatableContext:()=>Zt,TranslatableContextProvider:()=>Pl,UPDATE:()=>co,UPDATE_MANY:()=>lo,ValidationError:()=>Cc,WithPermissions:()=>Xr,WithRecord:()=>op,choices:()=>cm,combine2Validators:()=>Ac,combineDataProviders:()=>rd,composeSyncValidators:()=>em,composeValidators:()=>va,convertLegacyAuthProvider:()=>ro,convertLegacyDataProvider:()=>yo,defaultDataProvider:()=>Ze,defaultExporter:()=>Pt,downloadCSV:()=>jo,email:()=>im,escapePath:()=>Cs,fetchActionsWithArrayOfIdentifiedRecordsResponse:()=>fo,fetchActionsWithArrayOfRecordsResponse:()=>_n,fetchActionsWithRecordResponse:()=>Qn,fetchActionsWithTotalResponse:()=>zn,fetchRelatedRecords:()=>Bi,fetchUtils:()=>Wn,getElementsFromRecords:()=>ru,getFieldLabelTranslationArgs:()=>_r,getFormGroupState:()=>zc,getListControllerProps:()=>dp,getMutationMode:()=>Zs,getNumberOrDefault:()=>ca,getQuery:()=>Vu,getRecordFromLocation:()=>xu,getSelectedReferencesStatus:()=>Ra,getSimpleValidationResolver:()=>sn,getStatusForArrayInput:()=>ic,getStatusForInput:()=>ac,getStorage:()=>Le,getSuggestionsFactory:()=>Bc,getValuesFromRecords:()=>ke,hasCustomParams:()=>ku,inferTypeFromValues:()=>ta,injectedProps:()=>la,isRequired:()=>lm,linkToRecord:()=>sl,localStorageStore:()=>pl,maxLength:()=>om,maxValue:()=>am,memoryStore:()=>zt,mergeRefs:()=>Dl,mergeTranslations:()=>xl,minLength:()=>rm,minValue:()=>nm,number:()=>sm,parseQueryFromLocation:()=>ju,queryReducer:()=>Pr,regex:()=>Fc,removeDoubleSlashes:()=>de,removeEmpty:()=>ee,removeKey:()=>Wr,required:()=>tm,resolveBrowserLocale:()=>hl,resolveRedirectTo:()=>il,sanitizeFetchType:()=>ql,sanitizeListRestProps:()=>pp,setSubmissionErrors:()=>Ta,shallowEqual:()=>Ln,testDataProvider:()=>od,undoableEventEmitter:()=>Me,useApplyInputDefaultValues:()=>wa,useAugmentedForm:()=>Ea,useAuthProvider:()=>re,useAuthState:()=>Zr,useAuthenticated:()=>ae,useBasename:()=>le,useCheckAuth:()=>$e,useCheckMinimumRequiredProps:()=>iu,useChoices:()=>Da,useChoicesContext:()=>Zp,useCreate:()=>Hn,useCreateContext:()=>tp,useCreateController:()=>Lr,useCreatePath:()=>_t,useDataProvider:()=>Y,useDeepCompareEffect:()=>Al,useDelete:()=>ar,useDeleteMany:()=>dd,useDeleteWithConfirmController:()=>lu,useDeleteWithUndoController:()=>cu,useEditContext:()=>sp,useEditController:()=>br,useEventCallback:()=>vn,useExpanded:()=>Sp,useFilterState:()=>au,useFormGroup:()=>mm,useFormGroupContext:()=>Ia,useGetIdentity:()=>yi,useGetList:()=>Be,useGetMany:()=>id,useGetManyAggregate:()=>qe,useGetManyReference:()=>nr,useGetOne:()=>or,useGetPermissions:()=>dt,useGetResourceLabel:()=>we,useGetValidationErrorMessage:()=>Aa,useI18nProvider:()=>Bt,useInitializeFormWithRecord:()=>fm,useInput:()=>gm,useIsDataLoaded:()=>ad,useIsFormInvalid:()=>Sa,useIsMounted:()=>Dn,useLabelPrefix:()=>Kt,useList:()=>Dr,useListContext:()=>Pp,useListController:()=>vr,useListFilterContext:()=>xp,useListPaginationContext:()=>Cp,useListParams:()=>ua,useListSortContext:()=>Mp,useLoading:()=>sd,useLocale:()=>Cl,useLocaleState:()=>Je,useLogin:()=>pi,useLogout:()=>Ue,useLogoutIfAccessDenied:()=>to,useMutationMiddlewares:()=>Sr,useNotificationContext:()=>Yt,useNotify:()=>G,usePaginationState:()=>St,usePermissions:()=>Br,usePermissionsOptimized:()=>qr,usePickFilterContext:()=>da,usePickPaginationContext:()=>ma,usePickSaveContext:()=>Mr,usePickSortContext:()=>pa,usePrevious:()=>Ks,useRecordContext:()=>he,useRecordSelection:()=>xe,useRedirect:()=>pe,useReference:()=>Pa,useReferenceArrayFieldController:()=>vp,useReferenceArrayInputController:()=>jp,useReferenceInputController:()=>Gp,useReferenceManyFieldController:()=>Dp,useReferenceOneFieldController:()=>Ip,useRefresh:()=>rr,useRegisterMutationMiddleware:()=>qd,useRemoveFromStore:()=>An,useResetStore:()=>Fn,useResourceContext:()=>z,useResourceDefinition:()=>qn,useResourceDefinitionContext:()=>sr,useResourceDefinitions:()=>dr,useSafeSetState:()=>W,useSaveContext:()=>Tr,useScrollToTop:()=>Rn,useSetLocale:()=>Ml,useShowContext:()=>zp,useShowController:()=>Ir,useSortState:()=>Tt,useStore:()=>me,useStoreContext:()=>Ee,useSuggestions:()=>Rm,useTimeout:()=>wn,useTranslatable:()=>Sl,useTranslatableContext:()=>Ll,useTranslate:()=>_,useTranslateLabel:()=>qt,useUnselect:()=>hr,useUnselectAll:()=>Tp,useUpdate:()=>Yn,useUpdateMany:()=>ld,useWarnWhenUnsavedChanges:()=>La,useWhyDidYouUpdate:()=>bn,validQueryParams:()=>Ou,warning:()=>ct});var Zn=E(require("react"));var ve=E(require("react")),Ao=require("react"),Fo=require("react-query");var Ye=E(require("react")),es=require("react"),ts=require("react-router-dom"),rs=require("history");var Za=E(require("react")),kr=require("react"),Ba=require("react-router");function qa({basename:e,children:t,history:r}){let[o,a]=(0,kr.useState)({action:r.action,location:r.location});return(0,kr.useLayoutEffect)(()=>r.listen(a),[r]),Za.createElement(Ba.Router,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}n(qa,"HistoryRouter");var Xa=E(require("react"));var Ka=require("react"),Vr=(0,Ka.createContext)("");var yn=n(({children:e,basename:t})=>Xa.createElement(Vr.Provider,{value:t},e),"BasenameContextProvider");var gn=n(({history:e,basename:t="",children:r})=>{let o=(0,ts.useInRouterContext)();return Ye.createElement(yn,{basename:o?t:""},Ye.createElement(o?nl:al,{basename:t,history:e},r))},"AdminRouter"),nl=n(({children:e})=>Ye.createElement(Ye.Fragment,null,e),"DummyRouter"),al=n(({children:e,history:t})=>{let r=(0,es.useMemo)(()=>t||(0,rs.createHashHistory)(),[t]);return Ye.createElement(qa,{history:r},e)},"InternalRouter");var sl=n((e,t,r="edit")=>{let o=`${e}/${encodeURIComponent(t)}`;return r==="show"?`${o}/show`:o},"linkToRecord");var il=n((e,t,r,o,a="")=>{if(typeof e=="function"){let s=e(t,r,o);return typeof s=="string"?at(`${a}/${s}`):m({pathname:at(`${a}/${s.pathname}`)},s)}switch(e){case"list":return at(`${a}/${t}`);case"create":return at(`${a}/${t}/create`);case"edit":return at(`${a}/${t}/${encodeURIComponent(r)}`);case"show":return at(`${a}/${t}/${encodeURIComponent(r)}/show`);default:return e}},"resolveRedirectTo"),at=n(e=>e.replace("//","/"),"removeDoubleSlashes");var os=require("react");var le=n(()=>(0,os.useContext)(Vr),"useBasename");var ns=require("react");var _t=n(()=>{let e=le();return(0,ns.useCallback)(({resource:t,id:r,type:o})=>{switch(o){case"list":return de(`${e}/${t}`);case"create":return de(`${e}/${t}/create`);case"edit":return de(`${e}/${t}/${encodeURIComponent(r)}`);case"show":return de(`${e}/${t}/${encodeURIComponent(r)}/show`);default:return o}},[e])},"useCreatePath"),de=n(e=>e.replace("//","/"),"removeDoubleSlashes");var as=require("react"),ss=require("react-router-dom"),is=require("history");var pe=n(()=>{let e=(0,ss.useNavigate)(),t=le(),r=_t();return(0,as.useCallback)((o,a="",s,i,u={})=>{if(o)if(typeof o=="function"){let l=o(a,s,i),c=typeof l=="string"?`${t}/${l}`:m({pathname:`${t}/${l.pathname}`},l);e(typeof c=="string"?(0,is.parsePath)(c):c,{state:m({_scrollToTop:!0},u)});return}else if(typeof o=="string"&&o.startsWith("http")&&window){window.location.href=o;return}else{e(r({resource:a,id:s,type:o}),{state:m({_scrollToTop:!0},u)});return}else return},[e,t,r])},"useRedirect");var us=require("react"),cs=require("react-router-dom"),Rn=n(()=>{let e=(0,cs.useLocation)();(0,us.useEffect)(()=>{var t;((t=e.state)==null?void 0:t._scrollToTop)&&typeof window!="undefined"&&window.scrollTo(0,0)},[e])},"useScrollToTop");var ls=require("react"),ul={id:""},cl={login:()=>Promise.resolve(),logout:()=>Promise.resolve(),checkAuth:()=>Promise.resolve(),checkError:()=>Promise.resolve(),getPermissions:()=>Promise.resolve(),getIdentity:()=>Promise.resolve(ul)},ds=(0,ls.createContext)(cl);ds.displayName="AuthContext";var st=ds;var ps=require("react");var it={loginUrl:"/login",afterLoginUrl:"/"},ll=n(()=>(0,ps.useContext)(st),"useAuthProvider"),re=ll;var ni=require("react");var oi=require("react");var Oe=require("react"),$r=require("react-router-dom");var Se="RaStore",Gr=Se.length,dl=n(()=>{if(typeof window=="undefined"||window.localStorage==null)return!1;try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},"testLocalStorage"),Pn=dl(),pl=n((e="1")=>{let t={},r=n((a,s)=>{Object.keys(t).forEach(i=>{!t[i]||t[i].key===a&&t[i].callback(s)})},"publish"),o=n(a=>{if(a.key.substring(0,Gr)!==Se)return;let s=a.key.substring(Gr+1),i=ms(a.newValue);Object.keys(t).forEach(u=>{!t[u]||t[u].key===s&&(i===null?t[u].callback(void 0):t[u].callback(i==null?void 0:i))})},"onLocalStorageChange");return{setup:()=>{if(Pn){let a=Le().getItem(`${Se}.version`);a&&a!==e&&Le().clear(),Le().setItem(`${Se}.version`,e),window.addEventListener("storage",o)}},teardown:()=>{Pn&&window.removeEventListener("storage",o)},getItem(a,s){let i=ms(Le().getItem(`${Se}.${a}`));return i==null?s:i},setItem(a,s){s===void 0?Le().removeItem(`${Se}.${a}`):Le().setItem(`${Se}.${a}`,JSON.stringify(s)),r(a,s)},removeItem(a){Le().removeItem(`${Se}.${a}`),r(a,void 0)},reset(){let a=Le();for(let s=0;s<a.length;s++)if(a.key(s).substring(0,Gr)===Se){let i=a.key(s).substring(Gr+1);a.removeItem(a.key(s)),r(i,void 0)}},subscribe:(a,s)=>{let i=Math.random().toString();return t[i]={key:a,callback:s},()=>{delete t[i]}}}},"localStorageStore"),ms=n(e=>{try{return JSON.parse(e)}catch{return e}},"tryParse"),hn=class{constructor(){this.valuesMap=new Map}getItem(t){return this.valuesMap.has(t)?String(this.valuesMap.get(t)):null}setItem(t,r){this.valuesMap.set(t,r)}removeItem(t){this.valuesMap.delete(t)}clear(){this.valuesMap.clear()}key(t){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[t]}get length(){return this.valuesMap.size}};n(hn,"LocalStorageShim");var ml=new hn,Le=n(()=>Pn?window.localStorage:ml,"getStorage");var fs=E(require("lodash/set")),xn=E(require("lodash/unset")),ys=E(require("lodash/get")),zt=n((e={})=>{let t={},r=n((o,a)=>{Object.keys(t).forEach(s=>{!t[s]||t[s].key===o&&t[s].callback(a)})},"publish");return{setup:()=>{},teardown:()=>{Object.keys(e).forEach(o=>delete e[o])},getItem(o,a){return(0,ys.default)(e,o,a)},setItem(o,a){(0,fs.default)(e,o,a),r(o,a)},removeItem(o){(0,xn.default)(e,o),r(o,void 0)},reset(){Object.keys(e).forEach(o=>{(0,xn.default)(e,o),r(o,void 0)})},subscribe:(o,a)=>{let s=Math.random().toString();return t[s]={key:o,callback:a},()=>{delete t[s]}}}},"memoryStore");var gs=require("react");var fl=zt(),Wt=(0,gs.createContext)(fl);var Rs=E(require("react")),Ps=require("react");var Cn=n(({value:e,children:t})=>((0,Ps.useEffect)(()=>(e.setup(),()=>{e.teardown()}),[e]),Rs.createElement(Wt.Provider,{value:e},t)),"StoreContextProvider");var Qr=E(require("react")),xs=require("react");var hs=require("react");var Ee=n(()=>(0,hs.useContext)(Wt),"useStoreContext");var yl=n(({value:e,name:t,children:r})=>{let{setItem:o}=Ee();return(0,xs.useEffect)(()=>{o(t,e)},[t,o,e]),Qr.createElement(Qr.Fragment,null,r)},"StoreSetter");var Jr=require("react");var Cs=n(e=>e.replace(/(\(|\))/g,"\\$1"),"default");var Sn=E(require("react")),ks=require("react");var vs=E(require("react")),ws=E(require("lodash/get"));var bs=E(require("react")),Jt=require("react");var Ms=require("react"),ut=(0,Ms.createContext)({translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"});ut.displayName="I18nContext";var Ls=require("react");var Ss=require("react");var Ts=require("react"),Ht=(0,Ts.createContext)({notifications:[],addNotification:()=>{},takeNotification:()=>{},resetNotifications:()=>{}});var Yt=n(()=>(0,Ss.useContext)(Ht),"useNotificationContext");var G=n(()=>{let{addNotification:e}=Yt();return(0,Ls.useCallback)((t,r={})=>{let s=r,{type:o="info"}=s,a=N(s,["type"]);e({message:t,type:o,notificationOptions:a})},[e])},"useNotify");var Es=E(require("react")),Fe=require("react");var Mn=n(({children:e})=>{let[t,r]=(0,Fe.useState)([]),o=(0,Fe.useCallback)(u=>{r(l=>[...l,u])},[]),a=(0,Fe.useCallback)(()=>{let[u,...l]=t;return r(l),u},[t]),s=(0,Fe.useCallback)(()=>{r([])},[]),i=(0,Fe.useMemo)(()=>({notifications:t,addNotification:o,takeNotification:a,resetNotifications:s}),[t]);return Es.createElement(Ht.Provider,{value:i},e)},"NotificationContextProvider");var $t=n(({value:e=gl,children:t})=>{let[r]=me("locale"),o=G(),[a,s]=(0,Jt.useState)(0),[i,u]=(0,Jt.useState)(r===e.getLocale());return(0,Jt.useEffect)(()=>{r&&e.getLocale()!==r?new Promise(l=>{l(e.changeLocale(r))}).then(()=>{s(l=>l+1),u(!0)}).catch(l=>{u(!0),o("ra.notification.i18n_error",{type:"warning"}),console.error(l)}):u(!0)},[e,r,o]),i?bs.createElement(ut.Provider,{value:e,key:a},t):null},"I18nContextProvider"),gl={translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"};var Rl=n(({translate:e,messages:t,children:r})=>vs.createElement($t,{value:{translate:t?(o,a)=>{let s=(0,ws.default)(t,o);return s?typeof s=="function"?s(a):s:a._}:e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"}},r),"TestTranslationProvider");var Ds=require("react"),Zt=(0,Ds.createContext)(void 0);var Is=E(require("react"));var Pl=n(({children:e,value:t})=>Is.createElement(Zt.Provider,{value:t},e),"TranslatableContextProvider");var As=E(require("lodash/merge"));var hl=n((e,t)=>{let{language:r,browserLanguage:o,userLanguage:a}=window.navigator,s=r||o||a||e||Tn;return(t==null?void 0:t.fullLocale)?s:s.split("-")[0]},"resolveBrowserLocale"),xl=n((...e)=>(0,As.default)({},...e),"mergeTranslations");var Ns=require("react");var Fs=require("react");var Bt=n(()=>(0,Fs.useContext)(ut),"useI18nProvider");var Je=n(()=>{let e=Bt(),t=(0,Ns.useMemo)(()=>e.getLocale(),[e]);return me("locale",t)},"useLocaleState");var Cl=n(()=>{let[e]=Je();return e},"useLocale");var Ml=n(()=>{let[,e]=Je();return e},"useSetLocale");var zr=require("react");var Us=require("react");var Os=require("react");var _=n(()=>{let e=Bt(),t=(0,Os.useCallback)((r,o)=>e.translate(r,o),[e]);return e?t:Tl},"useTranslate"),Tl=n(e=>e,"identity");var qt=n(()=>{let e=_(),t=Kt(),r=z();return(0,Us.useCallback)(({source:o,label:a,resource:s})=>a===!1||a===""?null:a&&typeof a!="string"?a:e(..._r({label:a,prefix:t,resource:s,resourceFromContext:r,source:o})),[t,r,e])},"useTranslateLabel");var Sl=n(e=>{let[t]=Je(),{defaultLocale:r=t,locales:o}=e,[a,s]=(0,zr.useState)(r),i=z({}),u=qt();return(0,zr.useMemo)(()=>({getSource:(c,p=a)=>`${c}.${p}`,getLabel:(c,p)=>u({source:c,resource:i,label:p}),locales:o,selectedLocale:a,selectLocale:s}),[o,i,a,u])},"useTranslatable");var js=require("react");var Ll=n(()=>{let e=(0,js.useContext)(Zt);if(!e)throw new Error("useTranslatableContext must be used inside a TranslatableContextProvider");return e},"useTranslatableContext");var Tn="en";var Vs=n(e=>{let{source:t,label:r,resource:o,isRequired:a}=e,s=qt();return r===!1||r===""?null:r&&typeof r!="string"?r:Sn.createElement("span",null,s({label:r,resource:o,source:t}),a&&Sn.createElement("span",{"aria-hidden":"true"},"\u2009*"))},"FieldTitle");Vs.displayName="FieldTitle";var Gs=(0,ks.memo)(Vs);var Qs=E(require("inflection")),_r=n(e=>{if(!e)return[""];let{label:t,prefix:r,resource:o,resourceFromContext:a,source:s}=e;if(typeof t!="undefined")return[t,{_:t}];if(typeof s=="undefined")return[""];let{sourceWithoutDigits:i,sourceSuffix:u}=El(s),l=Qs.default.transform(u.replace(/\./g," "),["underscore","humanize"]);return o?[`resources.${o}.fields.${i}`,{_:l}]:r?[`${r}.${i}`,{_:l}]:[`resources.${a}.fields.${i}`,{_:l}]},"default"),El=n(e=>{let t=e.replace(/\.\d+\./g,"."),r=e.split("."),o;r.forEach((s,i)=>{bl(s)&&(o=i)});let a=o!=null?r.slice(o+1).join("."):e;return{sourceWithoutDigits:t,sourceSuffix:a}},"getSourceParts"),bl=n(e=>{for(let t=e.length-1;t>=0;t--){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0},"onlyDigits");var _s=require("react-is"),zs=n((e,t,r)=>{if(e[t]&&!(0,_s.isValidElementType)(e[t]))return new Error(`Invalid prop '${t}' supplied to '${r}': the prop is not a valid React component`)},"default");function Ws(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}n(Ws,"is");var Ln=n((e,t)=>{if(Ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Ws(e[r[a]],t[r[a]]))return!1;return!0},"shallowEqual");var vl=n(e=>e&&Object.prototype.toString.call(e)==="[object Object]","isObject"),wl=n(e=>e instanceof Date?!1:e===""||e===null||e===void 0||Ln(e,{}),"isEmpty"),Hs=n(e=>Object.keys(e).reduce((t,r)=>{let o=e[r];return vl(e[r])&&(o=Hs(e[r])),wl(o)?t:w(m({},t),{[r]:o})},{}),"removeEmpty"),ee=Hs;var Ys=n((e,t)=>Object.keys(e).reduce((r,o)=>o!==t?Object.assign({},r,{[o]:e[o]}):r,{}),"removeKey"),Js=n((e,t)=>{let r=t.split(".");if(r.length===1)return Ys(e,t);let o=r[0];if(e[o]===void 0)return e;let a=Js(e[o],r.slice(1).join("."));return Object.keys(a).length===0?Ys(e,o):Object.assign({},e,{[o]:a})},"deepRemoveKey"),Wr=Js;var q=E(require("react")),$s=require("react"),Ne={root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",fontFamily:'"Roboto", sans-serif'},main:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",background:"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)",color:"white",fontSize:"1.5em",fontWeight:"bold"},secondary:{height:"20vh",background:"#e8e8e8",color:"black",display:"flex",alignItems:"center",justifyContent:"space-evenly"},link:{textAlign:"center",width:150,display:"block",textDecoration:"none",color:"black",opacity:.7},linkHovered:{opacity:1},image:{width:50},logo:{height:100}},En=n(({img:e,label:t,href:r})=>{let[o,a]=(0,$s.useState)(!1);return q.createElement("div",null,q.createElement("a",{href:r,style:o?m(m({},Ne.link),Ne.linkHovered):Ne.link,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},q.createElement("img",{src:e,alt:t,style:Ne.image}),q.createElement("br",null),t))},"Button"),Hr=n(()=>process.env.NODE_ENV==="production"?q.createElement("span",null):q.createElement("div",{style:Ne.root},q.createElement("div",{style:Ne.main},q.createElement("img",{style:Ne.logo,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",alt:"react-admin logo"}),q.createElement("h1",null,"Welcome to React-admin"),q.createElement("div",null,"Your application is properly configured.",q.createElement("br",null),"Now you can add a <Resource> as child of <Admin>.")),q.createElement("div",{style:Ne.secondary},q.createElement(En,{href:"https://marmelab.com/react-admin/Readme.html",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Documentation"}),q.createElement(En,{href:"https://github.com/marmelab/react-admin/tree/master/examples",img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=",label:"Examples"}),q.createElement(En,{href:"https://stackoverflow.com/questions/tagged/react-admin",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Community"}))),"default");var ct=n((e,t)=>{e&&process.env.NODE_ENV!=="production"&&console.warn(t)},"default");var Yr=require("react");function bn(e,t){let r=(0,Yr.useRef)();(0,Yr.useEffect)(()=>{if(r.current){let o=Object.keys(m(m({},r.current),t)),a={};o.forEach(s=>{r.current[s]!==t[s]&&(a[s]={from:r.current[s],to:t[s]})}),Object.keys(a).length&&console.log("[why-did-you-update]",e,a)}r.current=t})}n(bn,"useWhyDidYouUpdate");var Zs=n((e,t)=>{if(e)return e;switch(t){case!0:return"undoable";case!1:return"pessimistic";default:return"undoable"}},"getMutationMode");function Dl(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}n(Dl,"mergeRefs");var lt=E(require("react")),Bs=require("react"),Il=typeof window!="undefined"?lt.useLayoutEffect:lt.useEffect,vn=n((e,t)=>{let r=lt.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Il(()=>{r.current=e},[e,...t]),(0,Bs.useCallback)((...o)=>r.current(...o),[])},"useEventCallback");var te=require("react"),qs=E(require("lodash/isEqual"));function W(e){let[t,r]=(0,te.useState)(e),o=(0,te.useRef)(!1);(0,te.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let a=(0,te.useCallback)(s=>{if(o.current)return r(s)},[o,r]);return[t,a]}n(W,"useSafeSetState");function Ks(e){let t=(0,te.useRef)();return(0,te.useEffect)(()=>{t.current=e}),t.current}n(Ks,"usePrevious");function Al(e,t){let r=(0,te.useRef)();(0,te.useEffect)(()=>((0,qs.default)(o,t)||(r.current=e()),r.current));let o=Ks(t)}n(Al,"useDeepCompareEffect");function wn(e=0,t=""){let[r,o]=W(!1);return(0,te.useEffect)(()=>{o(!1);let a=setTimeout(()=>{o(!0)},e);return()=>{clearTimeout(a)}},[t,e,o]),r}n(wn,"useTimeout");function Dn(){let e=(0,te.useRef)(!0);return(0,te.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}n(Dn,"useIsMounted");var Xs=require("react"),Xt=(0,Xs.createContext)("");var ti=E(require("react"));var ei=require("react");var Kt=n(()=>(0,ei.useContext)(Xt),"useLabelPrefix");var In=n(({prefix:e,concatenate:t=!0,children:r})=>{let o=Kt(),a=o&&t?`${o}.${e}`:e;return ti.createElement(Xt.Provider,{value:a},r)},"LabelPrefixContextProvider");var me=n((e,t)=>{let{getItem:r,setItem:o,subscribe:a}=Ee(),[s,i]=(0,Jr.useState)(()=>r(e,t));(0,Jr.useEffect)(()=>{let l=a(e,c=>{i(typeof c=="undefined"?t:c)});return()=>l()},[e,a,t]);let u=vn((l,c)=>{let p=typeof l=="function"?l(s):l;o(e,typeof p=="undefined"?typeof c=="undefined"?t:c:p)},[e,o,t,s]);return[s,u]},"useStore");var ri=require("react");var An=n(e=>{let{removeItem:t}=Ee();return(0,ri.useCallback)(r=>t(typeof r=="undefined"?e:r),[t,e])},"useRemoveFromStore");var Fn=n(()=>{let{reset:e}=Ee();return e},"useResetStore");var Fl=n(()=>{let e=re(),t=Fn(),r=(0,$r.useNavigate)(),o=(0,Oe.useRef)(r),a=(0,$r.useLocation)(),s=(0,Oe.useRef)(a),i=le(),u=de(`${i}/${it.loginUrl}`);(0,Oe.useEffect)(()=>{s.current=a,o.current=r},[a,r]);let l=(0,Oe.useCallback)((p={},f=u,x=!0)=>e.logout(p).then(h=>{if(h===!1){t();return}let S=(h||f).split("?"),C={pathname:S[0]},R={};return x&&s.current&&s.current.pathname&&(R={state:{nextPathname:s.current.pathname,nextSearch:s.current.search}}),S[1]&&(C.search=S[1]),o.current(C,R),t(),h}),[e,t,u]),c=(0,Oe.useCallback)(p=>(r({pathname:u},{state:{nextPathname:a&&a.pathname}}),t(),Promise.resolve()),[t,a,r,u]);return e?l:c},"useLogout"),Ue=Fl;var $e=n(()=>{let e=re(),t=G(),r=Ue(),o=le(),a=de(`${o}/${it.loginUrl}`),s=(0,oi.useCallback)((i={},u=!0,l=a,c=!1)=>e.checkAuth(i).catch(p=>{throw u&&(r({},p&&p.redirectTo?p.redirectTo:l),!(c||p&&p.message===!1)&&t(Ol(p,"ra.auth.auth_check_error"),{type:"warning"})),p}),[e,r,t,a]);return e?s:Nl},"useCheckAuth"),Nl=n(()=>Promise.resolve(),"checkAuthWithoutAuthProvider"),Ol=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage");var Ul={},jl=n((e=Ul)=>{let[t,r]=W({isLoading:!0,authenticated:!0}),o=$e();return(0,ni.useEffect)(()=>{o(e,!1).then(()=>r({isLoading:!1,authenticated:!0})).catch(()=>r({isLoading:!1,authenticated:!1}))},[o,e,r]),t},"useAuthState"),Zr=jl;var si=require("react");var ai=require("react");var kl=n(()=>Promise.resolve([]),"getPermissionsWithoutProvider"),Vl=n(()=>{let e=re(),t=(0,ai.useCallback)((r={})=>e.getPermissions(r),[e]);return e?t:kl},"useGetPermissions"),dt=Vl;var Gl={},Ql=n((e=Gl)=>{let[t,r]=W({isLoading:!0}),o=dt();return(0,si.useEffect)(()=>{o(e).then(a=>{r({isLoading:!1,permissions:a})}).catch(a=>{r({isLoading:!1,error:a})})},[o,e,r]),t},"usePermissions"),Br=Ql;var ii=require("react"),ui=E(require("lodash/isEqual"));var _l={},ci={"{}":void 0},zl=n((e=_l)=>{let t=JSON.stringify(e),[r,o]=W({permissions:ci[t]}),a=dt();return(0,ii.useEffect)(()=>{a(e).then(s=>{(0,ui.default)(s,r.permissions)||(ci[t]=s,o({permissions:s}))}).catch(s=>{o({error:s})})},[a,t]),r},"usePermissionsOptimized"),qr=zl;var Kr=require("react");var li=require("react");var ae=n((e={})=>{let{enabled:t=!0,params:r=Wl}=e,o=$e();(0,li.useEffect)(()=>{t&&o(r).catch(()=>{})},[o,t,r])},"useAuthenticated"),Wl={};var di=n(e=>Kr.Children.count(e)===0,"isEmptyChildren"),Hl=n(e=>{let l=e,{authParams:t,children:r,render:o,component:a,staticContext:s}=l,i=N(l,["authParams","children","render","component","staticContext"]);ct(o&&r&&!di(r)||o&&a||a&&r&&!di(r),"You should only use one of the `component`, `render` and `children` props in <WithPermissions>"),ae(t);let{permissions:u}=qr(t);if(a)return(0,Kr.createElement)(a,m({permissions:u},i));if(o)return o(m({permissions:u},i));if(r)return r(m({permissions:u},i))},"WithPermissions"),Xr=Hl;var Nn=require("react"),eo=require("react-router-dom");var Yl=n(()=>{let e=re(),r=(0,eo.useLocation)().state,o=(0,eo.useNavigate)(),a=le(),{resetNotifications:s}=Yt(),i=r&&r.nextPathname,u=r&&r.nextSearch,l=de(`${a}/${it.afterLoginUrl}`),c=(0,Nn.useCallback)((f={},x)=>e.login(f).then(h=>{s();let S=x||i+u||l;return o(S),h}),[e,o,i,u,s,l]),p=(0,Nn.useCallback)((f,x)=>(s(),o(l),Promise.resolve()),[o,s,l]);return e?c:p},"useLogin"),pi=Yl;var mi=require("react");var fi={id:"",fullName:null},Jl=n(()=>{let[e,t]=W({isLoading:!0}),r=re();return(0,mi.useEffect)(()=>{r&&typeof r.getIdentity=="function"?n(async()=>{try{let a=await r.getIdentity();t({isLoading:!1,identity:a||fi})}catch(a){t({isLoading:!1,error:a})}},"callAuthProvider")():t({isLoading:!1,identity:fi})},[r,t]),e},"useGetIdentity"),yi=Jl;var gi=require("react");var Ri=require("react-router"),On,$l=n(()=>{let e=re(),t=Ue(),r=G(),o=(0,Ri.useNavigate)(),a=(0,gi.useCallback)((s,i)=>e.checkError(s).then(()=>!1).catch(async u=>{var f;let l=(f=u==null?void 0:u.logoutUser)!=null?f:!0;if(On)return!0;On=setTimeout(()=>{On=void 0},0),!(i||u&&u.message===!1||s&&s.message===!1)&&e.checkAuth({}).then(()=>{l?r(Pi(u,"ra.notification.logged_out"),{type:"warning"}):r(Pi(u,"ra.notification.not_authorized"),{type:"warning"})}).catch(()=>{});let p=u&&u.redirectTo?u.redirectTo:s&&s.redirectTo?s.redirectTo:void 0;return l?t({},p):o(p),!0}),[e,t,r,o]);return e?a:Zl},"useLogoutIfAccessDenied"),Zl=n(()=>Promise.resolve(!1),"logoutIfAccessDeniedWithoutProvider"),Pi=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage"),to=$l;var Un="AUTH_LOGIN",jn="AUTH_CHECK",kn="AUTH_ERROR",Vn="AUTH_LOGOUT",Gn="AUTH_GET_PERMISSIONS";var ro=n(e=>{let t=n((...r)=>e.apply(null,r),"authProvider");return t.login=r=>e(Un,r),t.logout=r=>e(Vn,r),t.checkAuth=r=>e(jn,r),t.checkError=r=>e(kn,r),t.getPermissions=r=>e(Gn,r),t},"default");var oo=E(require("react"));var Bl=n(e=>{let{authParams:t,children:r}=e;return ae({params:t}),oo.createElement(oo.Fragment,null,r)},"Authenticated");var no="GET_LIST",ao="GET_ONE",so="GET_MANY",io="GET_MANY_REFERENCE",uo="CREATE",co="UPDATE",lo="UPDATE_MANY",po="DELETE",mo="DELETE_MANY",Qn=["getOne","create","update"],fo=["getList","getMany","getManyReference"],_n=[...fo,"updateMany","deleteMany"],zn=["getList","getManyReference"],ql=n(e=>{switch(e){case no:return"getList";case ao:return"getOne";case so:return"getMany";case io:return"getManyReference";case uo:return"create";case co:return"update";case lo:return"updateMany";case po:return"delete";case mo:return"deleteMany";default:return e}},"sanitizeFetchType");var Ce=n(()=>Promise.resolve(),"defaultDataProvider");Ce.create=()=>Promise.resolve(null);Ce.delete=()=>Promise.resolve(null);Ce.deleteMany=()=>Promise.resolve(null);Ce.getList=()=>Promise.resolve(null);Ce.getMany=()=>Promise.resolve(null);Ce.getManyReference=()=>Promise.resolve(null);Ce.getOne=()=>Promise.resolve(null);Ce.update=()=>Promise.resolve(null);Ce.updateMany=()=>Promise.resolve(null);var hi={create:uo,delete:po,deleteMany:mo,getList:no,getMany:so,getManyReference:io,getOne:ao,update:co,updateMany:lo},Kl=n(e=>new Proxy(Ce,{get(r,o){return(a,s)=>{if(Object.keys(hi).includes(o.toString())){let i=hi[o.toString()];return e(i,a,s)}return e(o.toString(),a,s)}},apply(r,o,a){return e.apply(e,a)}}),"convertLegacyDataProvider"),yo=Kl;var xi=require("react"),Ci=(0,xi.createContext)(null);Ci.displayName="DataProviderContext";var pt=Ci;var er=class extends Error{constructor(t,r,o=null){super(t);this.message=t;this.status=r;this.body=o;Object.setPrototypeOf(this,er.prototype),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,this.stack=new Error().stack}};n(er,"HttpError");var go=er;var Wn={};Ja(Wn,{createHeadersFromOptions:()=>Ti,fetchJson:()=>Xl,flattenObject:()=>Si,queryParameters:()=>ed});var Mi=require("query-string"),Ti=n(e=>{let t=e.headers||new Headers({Accept:"application/json"});return!t.has("Content-Type")&&!(e&&(!e.method||e.method==="GET"))&&!(e&&e.body&&e.body instanceof FormData)&&t.set("Content-Type","application/json"),e.user&&e.user.authenticated&&e.user.token&&t.set("Authorization",e.user.token),t},"createHeadersFromOptions"),Xl=n((e,t={})=>{let r=Ti(t);return fetch(e,w(m({},t),{headers:r})).then(o=>o.text().then(a=>({status:o.status,statusText:o.statusText,headers:o.headers,body:a}))).then(({status:o,statusText:a,headers:s,body:i})=>{let u;try{u=JSON.parse(i)}catch{}return o<200||o>=300?Promise.reject(new go(u&&u.message||a,o,u)):Promise.resolve({status:o,headers:s,body:i,json:u})})},"fetchJson"),ed=Mi.stringify,td=n(e=>{if(!e)return!1;let t=Array.isArray(e),r=typeof Buffer!="undefined"&&Buffer.isBuffer(e),o=Object.prototype.toString.call(e)==="[object Object]",a=!!Object.keys(e).length;return!t&&!r&&o&&a},"isValidObject"),Si=n((e,t=[])=>td(e)?Object.assign({},...Object.keys(e).map(r=>Si(e[r],t.concat([r])))):t.length?{[t.join(".")]:e}:e,"flattenObject");var Li=E(require("eventemitter3")),Me=new Li.default;var Ze={create:()=>Promise.resolve({data:null}),delete:()=>Promise.resolve({data:null}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:null}),update:()=>Promise.resolve({data:null}),updateMany:()=>Promise.resolve({data:[]})};var rd=n(e=>new Proxy(Ze,{get:(t,r)=>(o,a)=>{if(!(typeof r=="symbol"||r==="then"))return e(o)[r](o,a)}}),"combineDataProviders");var od=n(e=>m({getList:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:void 0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),create:()=>Promise.resolve({data:void 0}),update:()=>Promise.resolve({data:void 0}),updateMany:()=>Promise.resolve({data:[]}),delete:()=>Promise.resolve({data:void 0}),deleteMany:()=>Promise.resolve({data:[]})},e),"testDataProvider");var Ro=require("react");function nd(e,t,r=console.error){if(!e)throw r(`The dataProvider returned an empty response for '${t}'.`),new Error("ra.notification.data_provider_error");if(!e.hasOwnProperty("data"))throw r(`The response to '${t}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${t}'.`),new Error("ra.notification.data_provider_error");if(_n.includes(t)&&!Array.isArray(e.data))throw r(`The response to '${t}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(fo.includes(t)&&Array.isArray(e.data)&&e.data.length>0&&!e.data[0].hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(Qn.includes(t)&&!e.data.hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(zn.includes(t)&&!e.hasOwnProperty("total")&&!e.hasOwnProperty("pageInfo"))throw r(`The response to '${t}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error")}n(nd,"validateResponseFormat");var Ei=nd;var Y=n(()=>{let e=(0,Ro.useContext)(pt)||Ze,t=to();return(0,Ro.useMemo)(()=>new Proxy(e,{get:(o,a)=>{if(!(typeof a=="symbol"||a==="then"))return(...s)=>{let i=a.toString();if(typeof e[i]!="function")throw new Error(`Unknown dataProvider function: ${i}`);try{return e[i].apply(e,s).then(u=>(process.env.NODE_ENV!=="production"&&Ei(u,i),u)).catch(u=>(process.env.NODE_ENV!=="production"&&console.error(u),t(u).then(l=>{if(!l)throw u})))}catch(u){throw process.env.NODE_ENV!=="production"&&console.error(u),new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}}}),[e,t])},"useDataProvider");var Po=require("react"),ho=require("react-query"),ad=n((e,t={})=>{let{enabled:r=!0}=t,o=(0,ho.useQueryClient)(),[a,s]=(0,Po.useState)(()=>r?o.getQueryData(e)!==void 0:!1);return(0,Po.useEffect)(()=>{if(!!r&&o.getQueryData(e)===void 0){let u=new ho.QueryObserver(o,{queryKey:e}).subscribe(l=>{s(!l.isLoading),u()});return u}},[r,e,o]),a},"useIsDataLoaded");var mt=E(require("react")),tr=require("react-query"),sd=n(()=>{let e=(0,tr.useQueryClient)(),t=mt.default.useRef(!1),r=mt.default.useRef(e.isFetching()>0),o=mt.default.useRef(e.isMutating()>0),[a,s]=mt.default.useState(r.current||o.current);return mt.default.useEffect(()=>{t.current=!0;let i=e.getQueryCache().subscribe(tr.notifyManager.batchCalls(()=>{t.current&&(r.current=e.isFetching()>0,s(r.current||o.current))})),u=e.getMutationCache().subscribe(tr.notifyManager.batchCalls(()=>{t.current&&(o.current=e.isMutating()>0,s(r.current||o.current))}));return()=>{t.current=!1,i(),u()}},[e]),a},"useLoading");var bi=require("react"),vi=require("react-query"),rr=n(()=>{let e=(0,vi.useQueryClient)();return(0,bi.useCallback)(()=>{e.invalidateQueries()},[e])},"useRefresh");var wi=require("react-query");var or=n((e,{id:t,meta:r},o)=>{let a=Y();return(0,wi.useQuery)([e,"getOne",{id:String(t),meta:r}],()=>a.getOne(e,{id:t,meta:r}).then(({data:s})=>s),o)},"useGetOne");var xo=require("react-query");var Be=n((e,t={},r)=>{var p,f,x;let{pagination:o={page:1,perPage:25},sort:a={field:"id",order:"DESC"},filter:s={},meta:i}=t,u=Y(),l=(0,xo.useQueryClient)(),c=(0,xo.useQuery)([e,"getList",{pagination:o,sort:a,filter:s,meta:i}],()=>u.getList(e,{pagination:o,sort:a,filter:s,meta:i}).then(({data:h,total:S,pageInfo:C})=>({data:h,total:S,pageInfo:C})),m({onSuccess:({data:h})=>{h.forEach(S=>{l.setQueryData([e,"getOne",{id:String(S.id),meta:i}],C=>C!=null?C:S)})}},r));return c.data?w(m({},c),{data:(p=c.data)==null?void 0:p.data,total:(f=c.data)==null?void 0:f.total,pageInfo:(x=c.data)==null?void 0:x.pageInfo}):c},"useGetList");var ft=require("react-query");var id=n((e,t={},r)=>{let{ids:o,meta:a}=t,s=Y(),i=(0,ft.useQueryClient)(),u=i.getQueryCache();return(0,ft.useQuery)([e,"getMany",{ids:o.map(l=>String(l)),meta:a}],()=>!o||o.length===0?Promise.resolve([]):s.getMany(e,{ids:o,meta:a}).then(({data:l})=>l),m({placeholderData:()=>{let l=o.map(c=>{var f,x;let p=(0,ft.hashQueryKey)([e,"getOne",{id:String(c),meta:a}]);return(x=(f=u.get(p))==null?void 0:f.state)==null?void 0:x.data});if(!l.some(c=>c===void 0))return l},onSuccess:l=>{l.forEach(c=>{i.setQueryData([e,"getOne",{id:String(c.id),meta:a}],p=>p!=null?p:c)})},retry:!1},r))},"useGetMany");var Di=require("react"),yt=require("react-query"),Ii=E(require("lodash/union"));var qe=n((e,t,r={})=>{let o=Y(),a=(0,yt.useQueryClient)(),s=a.getQueryCache(),{ids:i,meta:u}=t,l=(0,Di.useMemo)(()=>{let c=i.map(p=>{var x,h;let f=(0,yt.hashQueryKey)([e,"getOne",{id:String(p),meta:u}]);return(h=(x=s.get(f))==null?void 0:x.state)==null?void 0:h.data});if(!c.some(p=>p===void 0))return c},[i,s,e,u]);return(0,yt.useQuery)([e,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>new Promise((c,p)=>!i||i.length===0?c([]):cd({resource:e,ids:i,meta:u,resolve:c,reject:p,dataProvider:o,queryClient:a})),m({placeholderData:l,onSuccess:c=>{c.forEach(p=>{a.setQueryData([e,"getOne",{id:String(p.id),meta:u}],f=>f!=null?f:p)})},retry:!1},r))},"useGetManyAggregate"),ud=n(e=>{let t=[],r=null;return o=>{t.push(o),r&&clearTimeout(r),r=setTimeout(()=>{r=null,e([...t]),t=[]},0)}},"batch"),cd=ud(e=>{let t=e[0].dataProvider,r=e[0].queryClient,o=e.reduce((a,s)=>(a[s.resource]||(a[s.resource]=[]),a[s.resource].push(s),a),{});Object.keys(o).forEach(a=>{let s=o[a],i=s.reduce((c,{ids:p})=>(0,Ii.default)(c,p),[]).filter(c=>c!=null&&c!==""),u=s.reduce((c,{meta:p})=>p||c,void 0);if(i.length===0){s.forEach(({resolve:c})=>{c([])});return}let l=s.find(({ids:c})=>JSON.stringify(c)===JSON.stringify(i));if(l){let{dataProvider:c,resource:p,ids:f,meta:x}=l;c.getMany(p,{ids:f,meta:x}).then(({data:h})=>h).then(h=>{s.forEach(({ids:S,resolve:C})=>{C(h.filter(R=>S.map(y=>String(y)).includes(String(R.id))))})},h=>{s.forEach(({reject:S})=>{S(h)})});return}r.fetchQuery([a,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>t.getMany(a,{ids:i,meta:u}).then(({data:c})=>c)).then(c=>{s.forEach(({ids:p,resolve:f})=>{f(c.filter(x=>p.map(h=>String(h)).includes(String(x.id))))})}).catch(c=>s.forEach(({reject:p})=>p(c)))})});var Co=require("react-query");var nr=n((e,t={},r)=>{var x,h,S;let{target:o,id:a,pagination:s={page:1,perPage:25},sort:i={field:"id",order:"DESC"},filter:u={},meta:l}=t,c=Y(),p=(0,Co.useQueryClient)(),f=(0,Co.useQuery)([e,"getManyReference",{target:o,id:a,pagination:s,sort:i,filter:u,meta:l}],()=>c.getManyReference(e,{target:o,id:a,pagination:s,sort:i,filter:u,meta:l}).then(({data:C,total:R,pageInfo:y})=>({data:C,total:R,pageInfo:y})),m({onSuccess:({data:C})=>{C.forEach(R=>{p.setQueryData([e,"getOne",{id:String(R.id),meta:l}],y=>y!=null?y:R)})}},r));return f.data?w(m({},f),{data:(x=f.data)==null?void 0:x.data,total:(h=f.data)==null?void 0:h.total,pageInfo:(S=f.data)==null?void 0:S.pageInfo}):f},"useGetManyReference");var Ai=require("react"),Mo=require("react-query");var Hn=n((e,t={},r={})=>{let o=Y(),a=(0,Mo.useQueryClient)(),s=(0,Ai.useRef)(t),i=(0,Mo.useMutation)(({resource:l=e,data:c=s.current.data,meta:p=s.current.meta}={})=>o.create(l,{data:c,meta:p}).then(({data:f})=>f),w(m({},r),{onSuccess:(l,c={},p)=>{let{resource:f=e}=c;a.setQueryData([f,"getOne",{id:String(l.id)}],l),r.onSuccess&&r.onSuccess(l,c,p)}}));return[n((l=e,c={},p={})=>{let h=p,{returnPromise:f}=h,x=N(h,["returnPromise"]);if(f)return i.mutateAsync(m({resource:l},c),p);i.mutate(m({resource:l},c),x)},"create"),i]},"useCreate");var To=require("react"),So=require("react-query");var Yn=n((e,t={},r={})=>{let o=Y(),a=(0,So.useQueryClient)(),{id:s,data:i,meta:u}=t,R=r,{mutationMode:l="pessimistic"}=R,c=N(R,["mutationMode"]),p=(0,To.useRef)(l),f=(0,To.useRef)(t),x=(0,To.useRef)([]),h=n(({resource:y,id:g,data:T})=>{let M=Date.now(),P=p.current==="undoable"?M+5*1e3:M,b=n(L=>{if(!L)return;let v=L.findIndex(A=>A.id==g);return v===-1?L:[...L.slice(0,v),m(m({},L[v]),T),...L.slice(v+1)]},"updateColl");a.setQueryData([y,"getOne",{id:String(g),meta:u}],L=>m(m({},L),T),{updatedAt:P}),a.setQueriesData([y,"getList"],L=>L&&L.data?{data:b(L.data),total:L.total}:L,{updatedAt:P}),a.setQueriesData([y,"getMany"],L=>L&&L.length>0?b(L):L,{updatedAt:P}),a.setQueriesData([y,"getManyReference"],L=>L&&L.data?{data:b(L.data),total:L.total}:L,{updatedAt:P})},"updateCache"),S=(0,So.useMutation)(({resource:y=e,id:g=f.current.id,data:T=f.current.data,meta:M=f.current.meta,previousData:P=f.current.previousData}={})=>o.update(y,{id:g,data:T,previousData:P,meta:M}).then(({data:b})=>b),w(m({},c),{onMutate:async y=>{if(c.onMutate){let g=await c.onMutate(y)||{};return m({snapshot:x.current},g)}else return{snapshot:x.current}},onError:(y,g={},T)=>{if((p.current==="optimistic"||p.current==="undoable")&&T.snapshot.forEach(([M,P])=>{a.setQueryData(M,P)}),c.onError)return c.onError(y,g,T)},onSuccess:(y,g={},T)=>{if(p.current==="pessimistic"){let{resource:M=e,id:P=s}=g;h({resource:M,id:P,data:y}),c.onSuccess&&c.onSuccess(y,g,T)}},onSettled:(y,g,T={},M)=>{if((p.current==="optimistic"||p.current==="undoable")&&M.snapshot.forEach(([P])=>{a.invalidateQueries(P)}),c.onSettled)return c.onSettled(y,g,T,M)}}));return[n(async(y=e,g={},T={})=>{let{mutationMode:M,returnPromise:P,onSuccess:b,onSettled:L,onError:v}=T;if(f.current=t,M&&(p.current=M),P&&p.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),p.current==="pessimistic")return P?S.mutateAsync(m({resource:y},g),{onSuccess:b,onSettled:L,onError:v}):S.mutate(m({resource:y},g),{onSuccess:b,onSettled:L,onError:v});let{id:A=s,data:O=i,meta:F=u}=g,D=a.getQueryData([y,"getOne",{id:String(A),meta:F}]),U=[[y,"getOne",{id:String(A),meta:F}],[y,"getList"],[y,"getMany"],[y,"getManyReference"]];if(x.current=U.reduce((j,$)=>j.concat(a.getQueriesData($)),[]),await Promise.all(x.current.map(([j])=>a.cancelQueries(j))),h({resource:y,id:A,data:O}),b&&setTimeout(()=>b(D,m({resource:y},g),{snapshot:x.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(D,m({resource:y},g),{snapshot:x.current}),0),p.current==="optimistic")return S.mutate(m({resource:y},g),{onSettled:L,onError:v});Me.once("end",({isUndo:j})=>{j?x.current.forEach(([$,ne])=>{a.setQueryData($,ne)}):S.mutate(m({resource:y},g),{onSettled:L,onError:v})})},"update"),S]},"useUpdate");var Lo=require("react"),Eo=require("react-query");var ld=n((e,t={},r={})=>{let o=Y(),a=(0,Eo.useQueryClient)(),{ids:s,data:i,meta:u}=t,R=r,{mutationMode:l="pessimistic"}=R,c=N(R,["mutationMode"]),p=(0,Lo.useRef)(l),f=(0,Lo.useRef)(t),x=(0,Lo.useRef)([]),h=n(async({resource:y,ids:g,data:T,meta:M})=>{let P=p.current==="undoable"?Date.now()+1e3*5:Date.now(),b=n(L=>{if(!L)return;let v=[...L];return g.forEach(A=>{let O=L.findIndex(F=>F.id==A);O!==-1&&(v=[...v.slice(0,O),m(m({},v[O]),T),...v.slice(O+1)])}),v},"updateColl");g.forEach(L=>a.setQueryData([y,"getOne",{id:String(L),meta:M}],v=>m(m({},v),T),{updatedAt:P})),a.setQueriesData([y,"getList"],L=>L&&L.data?{data:b(L.data),total:L.total}:L,{updatedAt:P}),a.setQueriesData([y,"getMany"],L=>L&&L.length>0?b(L):L,{updatedAt:P}),a.setQueriesData([y,"getManyReference"],L=>L&&L.data?{data:b(L.data),total:L.total}:L,{updatedAt:P})},"updateCache"),S=(0,Eo.useMutation)(({resource:y=e,ids:g=f.current.ids,data:T=f.current.data,meta:M=f.current.meta}={})=>o.updateMany(y,{ids:g,data:T,meta:M}).then(({data:P})=>P),w(m({},c),{onMutate:async y=>{if(c.onMutate){let g=await c.onMutate(y)||{};return m({snapshot:x.current},g)}else return{snapshot:x.current}},onError:(y,g={},T)=>{if((p.current==="optimistic"||p.current==="undoable")&&T.snapshot.forEach(([M,P])=>{a.setQueryData(M,P)}),c.onError)return c.onError(y,g,T)},onSuccess:(y,g={},T)=>{if(p.current==="pessimistic"){let{resource:M=e,ids:P=s,meta:b=u}=g;h({resource:M,ids:P,data:y,meta:b}),c.onSuccess&&c.onSuccess(y,g,T)}},onSettled:(y,g,T={},M)=>{if((p.current==="optimistic"||p.current==="undoable")&&M.snapshot.forEach(([P])=>{a.invalidateQueries(P)}),c.onSettled)return c.onSettled(y,g,T,M)}}));return[n(async(y=e,g={},T={})=>{let{mutationMode:M,returnPromise:P,onSuccess:b,onSettled:L,onError:v}=T;if(f.current=t,M&&(p.current=M),P&&p.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),p.current==="pessimistic")return P?S.mutateAsync(m({resource:y},g),{onSuccess:b,onSettled:L,onError:v}):S.mutate(m({resource:y},g),{onSuccess:b,onSettled:L,onError:v});let{ids:A=s,data:O=i,meta:F=u}=g,D=[[y,"getOne"],[y,"getList"],[y,"getMany"],[y,"getManyReference"]];if(x.current=D.reduce((U,j)=>U.concat(a.getQueriesData(j)),[]),await Promise.all(x.current.map(([U])=>a.cancelQueries(U))),await h({resource:y,ids:A,data:O,meta:F}),b&&setTimeout(()=>b(A,m({resource:y},g),{snapshot:x.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(A,m({resource:y},g),{snapshot:x.current}),0),p.current==="optimistic")return S.mutate(m({resource:y},g),{onSettled:L,onError:v});Me.once("end",({isUndo:U})=>{U?x.current.forEach(([j,$])=>{a.setQueryData(j,$)}):S.mutate(m({resource:y},g),{onSettled:L,onError:v})})},"updateMany"),S]},"useUpdateMany");var bo=require("react"),vo=require("react-query");var ar=n((e,t={},r={})=>{let o=Y(),a=(0,vo.useQueryClient)(),{id:s,previousData:i}=t,C=r,{mutationMode:u="pessimistic"}=C,l=N(C,["mutationMode"]),c=(0,bo.useRef)(u),p=(0,bo.useRef)(t),f=(0,bo.useRef)([]),x=n(({resource:R,id:y})=>{let g=Date.now(),T=c.current==="undoable"?g+5*1e3:g,M=n(P=>{if(!P)return;let b=P.findIndex(L=>L.id==y);return b===-1?P:[...P.slice(0,b),...P.slice(b+1)]},"updateColl");a.setQueriesData([R,"getList"],P=>{if(!P||!P.data)return P;let b=M(P.data);return b.length<P.data.length?{data:b,total:P.total-1}:P},{updatedAt:T}),a.setQueriesData([R,"getMany"],P=>P&&P.length>0?M(P):P,{updatedAt:T}),a.setQueriesData([R,"getManyReference"],P=>{if(!P||!P.data)return P;let b=M(P.data);return b.length<P.data.length?{data:b,total:P.total-1}:P},{updatedAt:T})},"updateCache"),h=(0,vo.useMutation)(({resource:R=e,id:y=p.current.id,previousData:g=p.current.previousData,meta:T=p.current.meta}={})=>o.delete(R,{id:y,previousData:g,meta:T}).then(({data:M})=>M),w(m({},l),{onMutate:async R=>{if(l.onMutate){let y=await l.onMutate(R)||{};return m({snapshot:f.current},y)}else return{snapshot:f.current}},onError:(R,y={},g)=>{if((c.current==="optimistic"||c.current==="undoable")&&g.snapshot.forEach(([T,M])=>{a.setQueryData(T,M)}),l.onError)return l.onError(R,y,g)},onSuccess:(R,y={},g)=>{if(c.current==="pessimistic"){let{resource:T=e,id:M=s}=y;x({resource:T,id:M}),l.onSuccess&&l.onSuccess(R,y,g)}},onSettled:(R,y,g={},T)=>{if((c.current==="optimistic"||c.current==="undoable")&&T.snapshot.forEach(([M])=>{a.invalidateQueries(M)}),l.onSettled)return l.onSettled(R,y,g,T)}}));return[n(async(R=e,y={},g={})=>{let{mutationMode:T,onSuccess:M,onSettled:P,onError:b}=g;if(p.current=t,T&&(c.current=T),c.current==="pessimistic")return h.mutate(m({resource:R},y),{onSuccess:M,onSettled:P,onError:b});let{id:L=s,previousData:v=i}=y,A=[[R,"getList"],[R,"getMany"],[R,"getManyReference"]];if(f.current=A.reduce((O,F)=>O.concat(a.getQueriesData(F)),[]),await Promise.all(f.current.map(([O])=>a.cancelQueries(O))),x({resource:R,id:L}),M&&setTimeout(()=>M(v,m({resource:R},y),{snapshot:f.current}),0),l.onSuccess&&setTimeout(()=>l.onSuccess(v,m({resource:R},y),{snapshot:f.current}),0),c.current==="optimistic")return h.mutate(m({resource:R},y),{onSettled:P,onError:b});Me.once("end",({isUndo:O})=>{O?f.current.forEach(([F,D])=>{a.setQueryData(F,D)}):h.mutate(m({resource:R},y),{onSettled:P,onError:b})})},"mutate"),h]},"useDelete");var wo=require("react"),Do=require("react-query");var dd=n((e,t={},r={})=>{let o=Y(),a=(0,Do.useQueryClient)(),{ids:s}=t,S=r,{mutationMode:i="pessimistic"}=S,u=N(S,["mutationMode"]),l=(0,wo.useRef)(i),c=(0,wo.useRef)({}),p=(0,wo.useRef)([]),f=n(({resource:C,ids:R})=>{let y=Date.now(),g=l.current==="undoable"?y+5*1e3:y,T=n(M=>{if(!M)return;let P=[...M];return R.forEach(b=>{let L=P.findIndex(v=>v.id==b);L!==-1&&(P=[...P.slice(0,L),...P.slice(L+1)])}),P},"updateColl");a.setQueriesData([C,"getList"],M=>{if(!M||!M.data)return M;let P=T(M.data);return P.length<M.data.length?{data:P,total:M.total-(M.data.length-P.length)}:M},{updatedAt:g}),a.setQueriesData([C,"getMany"],M=>M&&M.length>0?T(M):M,{updatedAt:g}),a.setQueriesData([C,"getManyReference"],M=>{if(!M||!M.data)return M;let P=T(M.data);return P.length<M.data.length?{data:P,total:M.total-(M.data.length-P.length)}:M},{updatedAt:g})},"updateCache"),x=(0,Do.useMutation)(({resource:C=e,ids:R=c.current.ids,meta:y=c.current.meta}={})=>o.deleteMany(C,{ids:R,meta:y}).then(({data:g})=>g),w(m({},u),{onMutate:async C=>{if(u.onMutate){let R=await u.onMutate(C)||{};return m({snapshot:p.current},R)}else return{snapshot:p.current}},onError:(C,R={},y)=>{if((l.current==="optimistic"||l.current==="undoable")&&y.snapshot.forEach(([g,T])=>{a.setQueryData(g,T)}),u.onError)return u.onError(C,R,y)},onSuccess:(C,R={},y)=>{if(l.current==="pessimistic"){let{resource:g=e,ids:T=s}=R;f({resource:g,ids:T}),u.onSuccess&&u.onSuccess(C,R,y)}},onSettled:(C,R,y={},g)=>{if((l.current==="optimistic"||l.current==="undoable")&&g.snapshot.forEach(([T])=>{a.invalidateQueries(T)}),u.onSettled)return u.onSettled(C,R,y,g)}}));return[n(async(C=e,R={},y={})=>{let{mutationMode:g,onSuccess:T,onSettled:M,onError:P}=y;if(c.current=t,g&&(l.current=g),l.current==="pessimistic")return x.mutate(m({resource:C},R),{onSuccess:T,onSettled:M,onError:P});let{ids:b=s}=R,L=[[C,"getList"],[C,"getMany"],[C,"getManyReference"]];if(p.current=L.reduce((v,A)=>v.concat(a.getQueriesData(A)),[]),await Promise.all(p.current.map(([v])=>a.cancelQueries(v))),f({resource:C,ids:b}),T&&setTimeout(()=>T(b,m({resource:C},R),{snapshot:p.current}),0),u.onSuccess&&setTimeout(()=>u.onSuccess(b,m({resource:C},R),{snapshot:p.current}),0),l.current==="optimistic")return x.mutate(m({resource:C},R),{onSettled:M,onError:P});Me.once("end",({isUndo:v})=>{v?p.current.forEach(([A,O])=>{a.setQueryData(A,O)}):x.mutate(m({resource:C},R),{onSettled:M,onError:P})})},"mutate"),x]},"useDeleteMany");var Fi=E(require("react")),be=require("react"),Ni=E(require("lodash/isEqual")),Io=(0,be.createContext)({definitions:{},register:()=>{},unregister:()=>{}}),Jn=n(({definitions:e={},children:t})=>{let[r,o]=(0,be.useState)(e),a=(0,be.useCallback)(u=>{o(l=>(0,Ni.default)(l[u.name],u)?l:w(m({},l),{[u.name]:u}))},[]),s=(0,be.useCallback)(u=>{o(l=>{var f;let x=l,{[f=u.name]:c}=x;return N(x,[Ae(f)])})},[]),i=(0,be.useMemo)(()=>({definitions:r,register:a,unregister:s}),[r]);return Fi.createElement(Io.Provider,{value:i},t)},"ResourceDefinitionContextProvider");var No=n(e=>{let{authProvider:t,basename:r,dataProvider:o,i18nProvider:a,store:s,children:i,history:u,queryClient:l}=e;if(!o)throw new Error(`Missing dataProvider prop.
React-admin requires a valid dataProvider function to work.`);let c=(0,Ao.useMemo)(()=>l||new Fo.QueryClient,[l]),p=(0,Ao.useMemo)(()=>t instanceof Function?ro(t):t,[t]),f=(0,Ao.useMemo)(()=>o instanceof Function?yo(o):o,[o]);return ve.createElement(st.Provider,{value:p},ve.createElement(pt.Provider,{value:f},ve.createElement(Cn,{value:s},ve.createElement(Fo.QueryClientProvider,{client:c},ve.createElement(gn,{history:u,basename:r},ve.createElement($t,{value:a},ve.createElement(Mn,null,ve.createElement(Jn,null,i))))))))},"CoreAdminContext");No.defaultProps={dataProvider:Ze,store:zt()};var je=E(require("react")),Rt=require("react"),ur=require("react-router-dom");var B=E(require("react")),gt=require("react"),se=require("react-router-dom");var Ui=E(require("react")),fe=require("react");var Oi=require("react");var sr=n(()=>(0,Oi.useContext)(Io),"useResourceDefinitionContext");var ji=n(e=>{let{permissions:t,isLoading:r}=Br(),[o,a]=pd(e,t,r);return fd(o.resources,t),{customRoutesWithLayout:o.customRoutesWithLayout,customRoutesWithoutLayout:o.customRoutesWithoutLayout,status:a,resources:o.resources}},"useConfigureAdminRouterFromChildren"),pd=n((e,t,r)=>{let o=Ue(),{authenticated:a}=Zr(),[s,i,u]=md(ir(e)),[l,c]=W(()=>yd(m({children:e},s)));return(0,fe.useEffect)(()=>{let p=n(async x=>{try{let h=x(t);(h==null?void 0:h.then)?h.then(S=>{u(ir(S)),c("ready")}):(u(ir(h)),c("ready"))}catch(h){console.error(h),o()}},"resolveChildFunction");r||n(async()=>{let x=ki(e),h=ir(e);i(h),c(x?"loading":h.resources.length>0?"ready":"empty"),x&&p(x)},"updateFromChildren")()},[a,e,o,r,u,t,i,c]),[s,l]},"useRoutesAndResourcesFromChildren"),md=n(e=>{let[t,r]=(0,fe.useState)(e),o=(0,fe.useCallback)(a=>{r(s=>({customRoutesWithLayout:s.customRoutesWithLayout.concat(a.customRoutesWithLayout),customRoutesWithoutLayout:s.customRoutesWithoutLayout.concat(a.customRoutesWithoutLayout),resources:s.resources.concat(a.resources)}))},[]);return[t,r,o]},"useRoutesAndResourcesState"),fd=n((e,t)=>{let{register:r,unregister:o}=sr();(0,fe.useEffect)(()=>(e.forEach(a=>{if(typeof a.type.registerResource=="function"){let s=a.type.registerResource(a.props,t);r(s)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")}),()=>{e.forEach(a=>{if(typeof a.type.registerResource=="function"){let s=a.type.registerResource(a.props,t);o(s)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")})}),[t,r,e,o])},"useRegisterResources"),yd=n(({children:e,resources:t,customRoutesWithLayout:r,customRoutesWithoutLayout:o})=>ki(e)?"loading":t.length>0||r.length>0||o.length>0?"ready":"empty","getStatus"),ki=n(e=>{let r=(Array.isArray(e)?e:[e]).filter(o=>typeof o=="function");if(r.length>1)throw new Error("You can only provide one function child to AdminRouter");return r.length===0?null:r[0]},"getSingleChildFunction"),ir=n(e=>{let t=[],r=[],o=[];return fe.Children.forEach(e,a=>{if(!!Ui.isValidElement(a)){if(a.type===fe.Fragment){let s=ir(a.props.children);t.push(...s.customRoutesWithLayout),r.push(...s.customRoutesWithoutLayout),o.push(...s.resources)}if(a.type.raName==="CustomRoutes"){let s=a;s.props.noLayout?r.push(s.props.children):t.push(s.props.children)}else a.type.raName==="Resource"&&o.push(a)}}),{customRoutesWithLayout:t,customRoutesWithoutLayout:r,resources:o}},"getRoutesAndResourceFromNodes");var Oo=n(e=>{let t=wn(1e3);Rn();let r=_t(),{customRoutesWithLayout:o,customRoutesWithoutLayout:a,status:s,resources:i}=ji(e.children),{layout:u,catchAll:l,dashboard:c,loading:p,menu:f,requireAuth:x,ready:h,title:S}=e,[C,R]=(0,gt.useState)(!x),y=$e();return(0,gt.useEffect)(()=>{x&&y().then(()=>{R(!0)}).catch(()=>{})},[y,x]),s==="empty"?B.createElement(h,null):s==="loading"||!C?B.createElement(se.Routes,null,a,t?B.createElement(se.Route,{path:"*",element:B.createElement(p,null)}):B.createElement(se.Route,{path:"*",element:null})):B.createElement(se.Routes,null,a,B.createElement(se.Route,{path:"/*",element:B.createElement("div",null,B.createElement(u,{dashboard:c,menu:f,title:S},B.createElement(se.Routes,null,o,gt.Children.map(i,g=>B.createElement(se.Route,{key:g.props.name,path:`${g.props.name}/*`,element:g})),B.createElement(se.Route,{path:"/",element:c?B.createElement(Xr,{authParams:gd,component:c}):i.length>0?B.createElement(se.Navigate,{to:r({resource:i[0].props.name,type:"list"})}):null}),B.createElement(se.Route,{path:"*",element:B.createElement(l,{title:S})}))))}))},"CoreAdminRoutes");Oo.defaultProps={customRoutes:[]};var gd={route:"dashboard"};var Rd=n(({children:e})=>je.createElement(je.Fragment,null,e),"DefaultLayout"),$n=n(e=>{let{catchAll:t=Vi,children:r,dashboard:o,disableTelemetry:a=!1,layout:s=Rd,loading:i=Vi,loginPage:u=!1,menu:l,ready:c=Hr,title:p="React Admin",requireAuth:f=!1}=e;return(0,Rt.useEffect)(()=>{if(a||process.env.NODE_ENV!=="production"||typeof window=="undefined"||typeof window.location=="undefined"||typeof Image=="undefined")return;let x=new Image;x.src=`https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`},[a]),je.createElement(ur.Routes,null,u!==!1&&u!==!0?je.createElement(ur.Route,{path:"/login",element:Pd(u)}):null,je.createElement(ur.Route,{path:"/*",element:je.createElement(Oo,{catchAll:t,dashboard:o,layout:s,loading:i,menu:l,requireAuth:f,ready:c,title:p},r)}))},"CoreAdminUI"),Pd=n(e=>(0,Rt.isValidElement)(e)?e:(0,Rt.createElement)(e),"createOrGetElement"),Vi=n(()=>null,"Noop");var hd=n(e=>{let{authProvider:t,basename:r,catchAll:o,children:a,dashboard:s,dataProvider:i,disableTelemetry:u,history:l,i18nProvider:c,queryClient:p,layout:f,loading:x,loginPage:h,menu:S,ready:C,requireAuth:R,title:y="React Admin"}=e;return Zn.createElement(No,{authProvider:t,basename:r,dataProvider:i,i18nProvider:c,queryClient:p,history:l},Zn.createElement($n,{layout:f,dashboard:s,disableTelemetry:u,menu:S,catchAll:o,title:y,loading:x,loginPage:h,requireAuth:R,ready:C},a))},"CoreAdmin");var Gi=n(e=>null,"CustomRoutes");Gi.raName="CustomRoutes";var ge=E(require("react")),lr=require("react"),Ke=require("react-router-dom");var _i=E(require("react"));var Qi=require("react"),cr=(0,Qi.createContext)(void 0);var ye=n(({children:e,value:t})=>t?_i.createElement(cr.Provider,{value:t},e):e,"ResourceContextProvider");var Bn=n(e=>{let{create:t,edit:r,list:o,name:a,show:s}=e;return ge.createElement(ye,{value:a},ge.createElement(Ke.Routes,null,t&&ge.createElement(Ke.Route,{path:"create/*",element:(0,lr.isValidElement)(t)?t:ge.createElement(t,null)}),s&&ge.createElement(Ke.Route,{path:":id/show/*",element:(0,lr.isValidElement)(s)?s:ge.createElement(s,null)}),r&&ge.createElement(Ke.Route,{path:":id/*",element:(0,lr.isValidElement)(r)?r:ge.createElement(r,null)}),o&&ge.createElement(Ke.Route,{path:"/*",element:(0,lr.isValidElement)(o)?o:ge.createElement(o,null)})))},"Resource");Bn.raName="Resource";Bn.registerResource=({create:e,edit:t,icon:r,list:o,name:a,options:s,show:i})=>({name:a,options:s,hasList:!!o,hasCreate:!!e,hasEdit:!!t,hasShow:!!i,icon:r});var Uo=E(require("inflection"));var dr=n(()=>sr().definitions,"useResourceDefinitions");var we=n(()=>{let e=_(),t=dr();return(r,o=2)=>{let a=t[r];return e(`resources.${r}.name`,{smart_count:o,_:a&&a.options&&a.options.label?e(a.options.label,{smart_count:o,_:a.options.label}):Uo.default.humanize(o>1?Uo.default.pluralize(r):Uo.default.singularize(r))})}},"useGetResourceLabel");var zi=require("react");var z=n(e=>{let t=(0,zi.useContext)(cr);return e&&e.resource||t},"useResourceContext");var Wi=require("react"),Hi=E(require("lodash/defaults"));var qn=n(e=>{let t=z(e),r=dr(),{hasCreate:o,hasEdit:a,hasList:s,hasShow:i}=e||{};return(0,Wi.useMemo)(()=>(0,Hi.default)({},{hasCreate:o,hasEdit:a,hasList:s,hasShow:i},r[t]),[t,r,o,a,s,i])},"useResourceDefinition");var Yi=E(require("jsonexport/dist"));var jo=n((e,t)=>{let r=document.createElement("a");r.style.display="none",document.body.appendChild(r);let o=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(o,`${t}.csv`):(r.setAttribute("href",URL.createObjectURL(o)),r.setAttribute("download",`${t}.csv`),r.click())},"default");var xd=n((e,t,r,o)=>(0,Yi.default)(e,(a,s)=>jo(s,o)),"defaultExporter"),Pt=xd;var Ji=require("react");var $i=(0,Ji.createContext)(Pt);$i.displayName="ExporterContext";var Zi=$i;var Cd=n(e=>(t,r,o)=>e.getMany(o,{ids:Md(t,r)}).then(({data:a})=>a.reduce((s,i)=>(s[i.id]=i,s),{})),"fetchRelatedRecords"),Md=n((e,t)=>Array.from(new Set(e.filter(r=>r[t]!=null).map(r=>r[t]).reduce((r,o)=>r.concat(o),[]))),"getRelatedIds"),Bi=Cd;var eu=E(require("react")),yr=E(require("inflection"));var ke=n(e=>e.reduce((t,r)=>(Object.keys(r).forEach(o=>{if(t[o]||(t[o]=[]),r[o]!=null){let a=Array.isArray(r[o])?[r[o]]:r[o];t[o]=t[o].concat(a)}}),t),{}),"default");var Kn=require("react"),Xn=class{constructor(t,r,o){this.type=t;this.props=r;this.children=o}getElement(t={}){if(!!this.isDefined())return this.children?(0,Kn.createElement)(this.type.component,m(m({},this.props),t),this.children.length>0?this.children.map((r,o)=>r.getElement({key:o})):this.children.getElement()):(0,Kn.createElement)(this.type.component,m(m({},this.props),t))}getProps(){return this.props}isDefined(){return!!this.type}getRepresentation(){if(!!this.isDefined())return this.type.representation?this.type.representation(this.props,this.children):`<${this.type.component.displayName||this.type.component.name} source="${this.props.source}" />`}};n(Xn,"InferredElement");var Q=Xn;var Xe=require("date-fns"),Td=n(e=>!isNaN(parseFloat(e))&&isFinite(e),"isNumeric"),pr=n(e=>e.every(Td),"valuesAreNumeric"),Sd=n(e=>Number.isInteger(e)||!isNaN(parseInt(e)),"isInteger"),mr=n(e=>e.every(Sd),"valuesAreInteger"),Ld=n(e=>typeof e=="boolean","isBoolean"),ko=n(e=>e.every(Ld),"valuesAreBoolean");var Ed=n(e=>typeof e=="string","isString"),Vo=n(e=>e.every(Ed),"valuesAreString"),bd=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,vd=n(e=>!e||bd.test(e),"isHtml"),Go=n(e=>e.every(vd),"valuesAreHtml"),wd=/http(s*):\/\/.*/i,Dd=n(e=>!e||wd.test(e),"isUrl"),qi=n(e=>e.every(Dd),"valuesAreUrl"),Id=/http(s*):\/\/.*\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,Ad=n(e=>!e||Id.test(e),"isImageUrl"),Ki=n(e=>e.every(Ad),"valuesAreImageUrl"),Fd=/@{1}/,Nd=n(e=>!e||Fd.test(e),"isEmail"),Xi=n(e=>e.every(Nd),"valuesAreEmail"),Od=n(e=>Array.isArray(e),"isArray"),Qo=n(e=>e.every(Od),"valuesAreArray"),Ud=n(e=>!e||e instanceof Date,"isDate"),_o=n(e=>e.every(Ud),"valuesAreDate"),jd=n(e=>!e||typeof e=="string"&&((0,Xe.isMatch)(e,"MM/dd/yyyy")||(0,Xe.isMatch)(e,"MM/dd/yy")||(0,Xe.isValid)((0,Xe.parseISO)(e))),"isDateString"),zo=n(e=>e.every(jd),"valuesAreDateString"),fr=n(e=>Object.prototype.toString.call(e)==="[object Object]","isObject"),Wo=n(e=>e.every(fr),"valuesAreObject");var kd=n(()=>eu.createElement("span",null,";"),"DefaultComponent"),Re={type:kd,representation:()=>"<DefaultComponent />"},Vd={array:Re,boolean:Re,date:Re,email:Re,id:Re,number:Re,reference:Re,referenceArray:Re,richText:Re,string:Re,url:Re},ie=n((e,t)=>typeof t[e]!="undefined","hasType"),ea=n((e,t=[],r=Vd)=>{if(e==="id"&&ie("id",r))return new Q(r.id,{source:e});if(e.substr(e.length-3)==="_id"&&ie("reference",r)){let o=yr.default.pluralize(e.substr(0,e.length-3));return r.reference&&new Q(r.reference,{source:e,reference:o},new Q(r.referenceChild))}if(e.substr(e.length-2)==="Id"&&ie("reference",r)){let o=yr.default.pluralize(e.substr(0,e.length-2));return r.reference&&new Q(r.reference,{source:e,reference:o},new Q(r.referenceChild))}if(e.substr(e.length-4)==="_ids"&&ie("referenceArray",r)){let o=yr.default.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new Q(r.referenceArray,{source:e,reference:o},new Q(r.referenceArrayChild))}if(e.substr(e.length-3)==="Ids"&&ie("referenceArray",r)){let o=yr.default.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new Q(r.referenceArray,{source:e,reference:o},new Q(r.referenceArrayChild))}if(t.length===0)return new Q(r.string,{source:e});if(Qo(t)){if(fr(t[0][0])&&ie("array",r)){let o=ke(t.reduce((a,s)=>a.concat(s),[]));return r.array&&new Q(r.array,{source:e},Object.keys(o).map(a=>ea(a,o[a],r)))}return new Q(r.string,{source:e})}if(ko(t)&&ie("boolean",r))return new Q(r.boolean,{source:e});if(_o(t)&&ie("date",r))return new Q(r.date,{source:e});if(Vo(t))return e==="email"&&ie("email",r)?new Q(r.email,{source:e}):e==="url"&&ie("url",r)?new Q(r.url,{source:e}):zo(t)&&ie("date",r)?new Q(r.date,{source:e}):Go(t)&&ie("richText",r)?new Q(r.richText,{source:e}):new Q(r.string,{source:e});if((mr(t)||pr(t))&&ie("number",r))return new Q(r.number,{source:e});if(Wo(t)){let o=Object.keys(t[0]).shift(),a=t.map(s=>s[o]);return ea(`${e}.${o}`,a,r)}return new Q(r.string,{source:e})},"inferElementFromValues"),tu=ea;var ru=n((e,t)=>{let r=ke(e);return Object.keys(r).reduce((o,a)=>o.concat(tu(a,r[a],t)),[]).filter(o=>o.isDefined())},"default");var gr=E(require("inflection"));var Gd=["array","boolean","date","email","id","image","number","reference","referenceChild","referenceArray","referenceArrayChild","richText","string","url","object"],ta=n((e,t=[])=>{if(e==="id")return{type:"id",props:{source:e}};if(e.substr(e.length-3)==="_id")return{type:"reference",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-3))},children:{type:"referenceChild"}};if(e.substr(e.length-2)==="Id")return{type:"reference",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-2))},children:{type:"referenceChild"}};if(e.substr(e.length-4)==="_ids")return{type:"referenceArray",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-4))},children:{type:"referenceArrayChild"}};if(e.substr(e.length-3)==="Ids")return{type:"referenceArray",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-3))},children:{type:"referenceArrayChild"}};if(t.length===0)return e==="email"?{type:"email",props:{source:e}}:e==="url"?{type:"url",props:{source:e}}:{type:"string",props:{source:e}};if(Qo(t)){if(fr(t[0][0])){let r=ke(t.reduce((o,a)=>o.concat(a),[]));return{type:"array",props:{source:e},children:Object.keys(r).map(o=>ta(o,r[o]))}}return{type:"string",props:{source:e}}}if(ko(t))return{type:"boolean",props:{source:e}};if(_o(t))return{type:"date",props:{source:e}};if(Vo(t))return e==="email"||Xi(t)?{type:"email",props:{source:e}}:e==="url"||qi(t)?Ki(t)?{type:"image",props:{source:e}}:{type:"url",props:{source:e}}:zo(t)?{type:"date",props:{source:e}}:Go(t)?{type:"richText",props:{source:e}}:mr(t)||pr(t)?{type:"number",props:{source:e}}:{type:"string",props:{source:e}};if(mr(t)||pr(t))return{type:"number",props:{source:e}};if(Wo(t)){let r=Object.keys(t[0]).shift(),o=t.map(a=>a[r]);return ta(`${e}.${r}`,o)}return{type:"string",props:{source:e}}},"inferTypeFromValues");var et=require("react"),ou=E(require("lodash/debounce")),nu=E(require("lodash/isEqual"));var Qd=n(e=>({q:e}),"defaultFilterToQuery"),au=n(({filterToQuery:e=Qd,permanentFilter:t={},debounceTime:r=500})=>{let o=(0,et.useRef)(t),a=(0,et.useRef)(),[s,i]=W(m(m({},t),e(""))),u=JSON.stringify(t);(0,et.useEffect)(()=>{(0,nu.default)(o.current,t)||(o.current=t,i(m(m({},t),e(a.current))))},[u,o,e]);let l=(0,et.useCallback)((0,ou.default)(c=>{i(m(m({},t),e(c))),a.current=c},r),[u]);return{filter:s,setFilter:l}},"default");var Te=require("react");var su=E(require("lodash/set"));var ht="SET_SORT",ue="ASC",Rr="DESC",tt="SET_PAGE",xt="SET_PER_PAGE",Ve="SET_FILTER",Ct="SHOW_FILTER",Mt="HIDE_FILTER",_d=n(e=>e===Rr?ue:Rr,"oppositeOrder"),Pr=n((e,t)=>{switch(t.type){case ht:return t.payload.field===e.sort?w(m({},e),{order:_d(e.order),page:1}):w(m({},e),{sort:t.payload.field,order:t.payload.order||ue,page:1});case tt:return w(m({},e),{page:t.payload});case xt:return w(m({},e),{page:1,perPage:t.payload});case Ve:return w(m({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case Ct:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:w(m({},e),{filter:typeof t.payload.defaultValue!="undefined"?(0,su.default)(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:w(m({},e.displayedFilters),{[t.payload.filterName]:!0})});case Mt:return w(m({},e),{filter:ee(Wr(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce((r,o)=>o!==t.payload?w(m({},r),{[o]:!0}):r,{}):e.displayedFilters});default:return e}},"queryReducer"),ra=Pr;var zd=n((e,t)=>{switch(t.type){case"SET_SORT":return t.payload;case"SET_SORT_FIELD":{let r=t.payload,o=e.field===r?e.order===ue?Rr:ue:ue;return{field:r,order:o}}case"SET_SORT_ORDER":{let r=t.payload;return w(m({},e),{order:r})}default:return e}},"sortReducer"),Wd={field:"id",order:"DESC"},Hd=n((e=Wd)=>{let[t,r]=(0,Te.useReducer)(zd,e),o=(0,Te.useRef)(!0);return(0,Te.useEffect)(()=>{if(o.current){o.current=!1;return}r({type:"SET_SORT",payload:e})},[e.field,e.order]),{setSort:(0,Te.useCallback)(a=>r({type:"SET_SORT",payload:a}),[r]),setSortField:(0,Te.useCallback)(a=>r({type:"SET_SORT_FIELD",payload:a}),[r]),setSortOrder:(0,Te.useCallback)(a=>r({type:"SET_SORT_ORDER",payload:a}),[r]),sort:t}},"useSortState"),Tt=Hd;var De=require("react"),Yd=n((e,t)=>m(m({},e),t),"paginationReducer"),Jd={page:1,perPage:25},St=n((e={})=>{let[t,r]=(0,De.useReducer)(Yd,m(m({},Jd),e)),o=(0,De.useRef)(!0),a=(0,De.useCallback)(i=>r({perPage:i,page:1}),[]),s=(0,De.useCallback)(i=>r({page:i}),[]);return(0,De.useEffect)(()=>{if(o.current){o.current=!1;return}a(e.perPage||25)},[e.perPage,a]),{page:t.page,perPage:t.perPage,pagination:t,setPage:s,setPerPage:a,setPagination:r}},"default");var $d=E(require("react"));var iu=n((e,t,r)=>{let o=Object.keys(r),a=t.filter(s=>!o.includes(s));if(a.length>0)throw new Error(`<${e}> component is not properly configured, some essential props are missing.
Be sure to pass the props from the parent. Example:

const My${e} = props => (
    <${e} {...props}></${e}>
);

The missing props are: ${a.join(", ")}`)},"useCheckMinimumRequiredProps");var uu=require("react");var Zd=n(e=>{let{record:t,redirect:r="list",onClick:o,mutationOptions:a}=e,s=z(e),i=G(),u=hr(s),l=pe(),[c,{isLoading:p}]=ar(),f=(0,uu.useCallback)(x=>{x.stopPropagation(),c(s,{id:t.id,previousData:t},m({onSuccess:()=>{i("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:!0}),u([t.id]),l(r,s)},onError:h=>{i(typeof h=="string"?h:h.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof h=="string"?h:h&&h.message?h.message:void 0}})},mutationMode:"undoable"},a)),typeof o=="function"&&o(x)},[c,a,i,o,t,l,r,s,u]);return{isLoading:p,handleDelete:f}},"useDeleteWithUndoController"),cu=Zd;var Ho=require("react");var Bd=n(e=>{let{record:t,redirect:r,mutationMode:o,onClick:a,mutationOptions:s}=e,i=z(e),[u,l]=(0,Ho.useState)(!1),c=G(),p=hr(i),f=pe(),[x,{isLoading:h}]=ar(),S=n(y=>{l(!0),y.stopPropagation()},"handleDialogOpen"),C=n(y=>{l(!1),y.stopPropagation()},"handleDialogClose"),R=(0,Ho.useCallback)(y=>{y.stopPropagation(),x(i,{id:t.id,previousData:t},m({onSuccess:()=>{l(!1),c("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),p([t.id]),f(r,i)},onError:g=>{l(!1),c(typeof g=="string"?g:g.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof g=="string"?g:g&&g.message?g.message:void 0}})},mutationMode:o},s)),typeof a=="function"&&a(y)},[x,o,s,c,a,t,f,r,i,p]);return{open:u,isLoading:h,handleDialogOpen:S,handleDialogClose:C,handleDelete:R}},"useDeleteWithConfirmController"),lu=Bd;var na=E(require("react"));var Ru=require("react"),Pu=require("query-string"),hu=require("react-router-dom");var du=require("react"),xr=(0,du.createContext)(void 0);var pu=E(require("react"));var Cr=n(({children:e,value:t})=>pu.createElement(xr.Provider,{value:t},e),"SaveContextProvider");var mu=require("react"),fu=E(require("lodash/pick")),Mr=n(e=>(0,mu.useMemo)(()=>(0,fu.default)(e,["save","saving","mutationMode","registerMutationMiddleware","unregisterMutationMiddleware"]),[e.save,e.saving,e.mutationMode,e.registerMutationMiddleware,e.unregisterMutationMiddleware]),"usePickSaveContext");var yu=require("react");var Tr=n(e=>(0,yu.useContext)(xr),"useSaveContext");var Ge=require("react"),Sr=n(()=>{let e=(0,Ge.useRef)([]),t=(0,Ge.useCallback)(s=>{e.current.push(s)},[]),r=(0,Ge.useCallback)(s=>{e.current=e.current.filter(i=>i!==s)},[]),o=(0,Ge.useCallback)(s=>(...i)=>{let u=e.current.length-1,l=n((...c)=>(u--,u>=0?e.current[u](...c,l):s(...c)),"next");return e.current.length>0?e.current[u](...i,l):s(...i)},[]);return(0,Ge.useMemo)(()=>({registerMutationMiddleware:t,getMutateWithMiddlewares:o,unregisterMutationMiddleware:r}),[t,o,r])},"useMutationMiddlewares");var gu=require("react");var qd=n(e=>{let{registerMutationMiddleware:t,unregisterMutationMiddleware:r}=Tr();(0,gu.useEffect)(()=>(t(e),()=>{r(e)}),[e,t,r])},"useRegisterMutationMiddleware");var Lr=n((e={})=>{var O;let{disableAuthentication:t,record:r,redirect:o,transform:a,mutationOptions:s={}}=e;ae({enabled:!t});let i=z(e),{hasEdit:u,hasShow:l}=qn(e),c=o!=null?o:Kd(l,u),p=(0,hu.useLocation)(),f=_(),x=G(),h=pe(),S=(O=r!=null?r:xu(p))!=null?O:void 0,F=s,{onSuccess:C,onError:R}=F,y=N(F,["onSuccess","onError"]),{registerMutationMiddleware:g,getMutateWithMiddlewares:T,unregisterMutationMiddleware:M}=Sr(),[P,{isLoading:b}]=Hn(i,void 0,y),L=(0,Ru.useCallback)((D,{onSuccess:U,onError:j,transform:$}={})=>Promise.resolve($?$(D):a?a(D):D).then(ne=>{T(P)(i,{data:ne},{onSuccess:async(I,V,H)=>{if(U)return U(I,V,H);if(C)return C(I,V,H);x("ra.notification.created",{type:"info",messageArgs:{smart_count:1}}),h(c,i,I.id,I)},onError:j||R||(I=>{x(typeof I=="string"?I:I.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})})})}),[P,c,T,x,R,C,h,i,a]),v=we(),A=f("ra.page.create",{name:v(i,1)});return{isFetching:!1,isLoading:!1,saving:b,defaultTitle:A,save:L,resource:i,record:S,redirect:c,registerMutationMiddleware:g,unregisterMutationMiddleware:M}},"useCreateController"),xu=n(({state:e,search:t})=>{if(e&&e.record)return e.record;if(t)try{let r=(0,Pu.parse)(t);if(r.source){if(Array.isArray(r.source)){console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`);return}return JSON.parse(r.source)}}catch{console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`)}return null},"getRecordFromLocation"),Kd=n((e,t)=>t?"edit":e?"show":"list","getDefaultRedirectRoute");var Yo=E(require("react"));var Cu=E(require("react")),Mu=require("react"),Er=(0,Mu.createContext)(void 0);Er.displayName="RecordContext";var Pe=n(({children:e,value:t})=>Cu.createElement(Er.Provider,{value:t},e),"RecordContextProvider");var Tu=require("react"),Lt=(0,Tu.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,redirect:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});Lt.displayName="CreateContext";var oa=n(({children:e,value:t})=>Yo.createElement(Lt.Provider,{value:t},Yo.createElement(Cr,{value:w(m({},Mr(t)),{mutationMode:"pessimistic"})},Yo.createElement(Pe,{value:t&&t.record},e))),"CreateContextProvider");var Xd=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=Lr(t),s=na.createElement(oa,{value:a},e);return t.resource?na.createElement(ye,{value:t.resource},s):s},"CreateBase");var ep=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=Lr(t);return e(a)},"CreateController");var Jo=require("react"),Su=E(require("lodash/defaults"));var tp=n(e=>{let t=(0,Jo.useContext)(Lt);return(0,Jo.useMemo)(()=>(0,Su.default)({},e!=null?rp(e):{},t),[t,e])},"useCreateContext"),rp=n(({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:a,resource:s,save:i,saving:u})=>({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:a,resource:s,save:i,saving:u}),"extractCreateContextProps");var ia=E(require("react"));var Lu=require("react"),Eu=require("react-router-dom");var br=n((e={})=>{let{disableAuthentication:t,id:r,mutationMode:o="undoable",mutationOptions:a={},queryOptions:s={},redirect:i=bu,transform:u}=e;ae({enabled:!t});let l=z(e),c=_(),p=G(),f=pe(),x=rr(),{id:h}=(0,Eu.useParams)(),S=r||decodeURIComponent(h),ne=a,{onSuccess:C,onError:R}=ne,y=N(ne,["onSuccess","onError"]),{registerMutationMiddleware:g,getMutateWithMiddlewares:T,unregisterMutationMiddleware:M}=Sr(),{data:P,error:b,isLoading:L,isFetching:v,refetch:A}=or(l,{id:S},m({onError:()=>{p("ra.notification.item_doesnt_exist",{type:"warning"}),f("list",l),x()},refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1},s));if(P&&P.id&&P.id!=S)throw new Error(`useEditController: Fetched record's id attribute (${P.id}) must match the requested 'id' (${S})`);let O=we(),F=c("ra.page.edit",{name:O(l,1),id:S,record:P}),D={id:S,previousData:P},[U,{isLoading:j}]=Yn(l,D,w(m({},y),{mutationMode:o})),$=(0,Lu.useCallback)((k,{onSuccess:I,onError:V,transform:H}={})=>Promise.resolve(H?H(k,{previousData:D.previousData}):u?u(k,{previousData:D.previousData}):k).then(J=>T(U)(l,{id:S,data:J},{onSuccess:async(Z,He,Qt)=>{if(I)return I(Z,He,Qt);if(C)return C(Z,He,Qt);p("ra.notification.updated",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),f(i,l,Z.id,Z)},onError:V||R||(Z=>{p(typeof Z=="string"?Z:Z.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof Z=="string"?Z:Z&&Z.message?Z.message:void 0}})})})),[S,T,o,p,R,C,f,i,l,u,U,D.previousData]);return{defaultTitle:F,error:b,isFetching:v,isLoading:L,mutationMode:o,record:P,redirect:bu,refetch:A,registerMutationMiddleware:g,resource:l,save:$,saving:j,unregisterMutationMiddleware:M}},"useEditController"),bu="list";var $o=E(require("react"));var vu=require("react");var he=n(e=>{let t=(0,vu.useContext)(Er);return e&&e.record||t},"useRecordContext");var op=n(({render:e})=>{let t=he();return t?e(t):null},"WithRecord");var wu=E(require("react"));var aa=n(({value:e,children:t})=>e?wu.createElement(Pe,{value:e},t):t,"OptionalRecordContextProvider");var Du=require("react"),Et=(0,Du.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,mutationMode:null,redirect:null,refetch:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});Et.displayName="EditContext";var sa=n(({children:e,value:t})=>$o.createElement(Et.Provider,{value:t},$o.createElement(Cr,{value:Mr(t)},$o.createElement(Pe,{value:t&&t.record},e))),"EditContextProvider");var np=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=br(t),s=ia.createElement(sa,{value:a},e);return t.resource?ia.createElement(ye,{value:t.resource},s):s},"EditBase");var ap=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=br(t);return e(a)},"EditController");var Zo=require("react"),Iu=E(require("lodash/defaults"));var sp=n(e=>{let t=(0,Zo.useContext)(Et);return(0,Zo.useMemo)(()=>(0,Iu.default)({},e!=null?ip(e):{},t),[t,e])},"useEditContext"),ip=n(({data:e,record:t,defaultTitle:r,isFetching:o,isLoading:a,mutationMode:s,redirect:i,resource:u,save:l,saving:c})=>({data:t||e,record:t||e,defaultTitle:r,isFetching:o,isLoading:a,mutationMode:s,redirect:i,resource:u,save:l,saving:c}),"extractEditContextProps");var ec=E(require("lodash/get"));var ya=E(require("react"));var bt=require("react");var Au=require("react");var xe=n(e=>{let t=`${e}.selectedIds`,[r,o]=me(t,up),a=An(t),s=(0,Au.useMemo)(()=>({select:i=>{!i||o([...i])},unselect(i){!i||i.length===0||o(u=>Array.isArray(u)?u.filter(l=>!i.includes(l)):[])},toggle:i=>{typeof i!="undefined"&&o(u=>{if(!Array.isArray(u))return[...u];let l=u.indexOf(i);return l>-1?[...u.slice(0,l),...u.slice(l+1)]:[...u,i]})},clearSelection:()=>{a()}}),[o,a]);return[r,s]},"useRecordSelection"),up=[];var K=require("react"),Bo=require("query-string"),Fu=E(require("lodash/debounce")),Nu=E(require("lodash/pickBy")),qo=require("react-router-dom");var ua=n(({resource:e,filterDefaultValues:t,sort:r=cp,perPage:o=10,debounce:a=500,disableSyncWithLocation:s=!1})=>{let i=(0,qo.useLocation)(),u=(0,qo.useNavigate)(),[l,c]=(0,K.useState)(Qu),p=`${e}.listParams`,[f,x]=me(p,Qu),h=(0,K.useRef)(),S=Dn(),C=[i.search,e,JSON.stringify(s?l:f),JSON.stringify(t),JSON.stringify(r),o,s],R=s?{}:ju(i),y=(0,K.useMemo)(()=>Vu({queryFromLocation:R,params:s?l:f,filterDefaultValues:t,sort:r,perPage:o}),C);(0,K.useEffect)(()=>{Object.keys(R).length>0&&x(y)},[i.search]);let g=(0,K.useCallback)(D=>{!S.current||(h.current?h.current=ra(h.current,D):(h.current=ra(y,D),setTimeout(()=>{s?c(h.current):u({search:`?${(0,Bo.stringify)(w(m({},h.current),{filter:JSON.stringify(h.current.filter),displayedFilters:JSON.stringify(h.current.displayedFilters)}))}`},{state:{_scrollToTop:D.type===tt}}),h.current=void 0},0)))},C),T=(0,K.useCallback)(D=>g({type:ht,payload:D}),C),M=(0,K.useCallback)(D=>g({type:tt,payload:D}),C),P=(0,K.useCallback)(D=>g({type:xt,payload:D}),C),b=y.filter||Gu,L=y.displayedFilters||Gu,v=(0,Fu.default)((D,U)=>{g({type:Ve,payload:{filter:ee(D),displayedFilters:U}})},a),A=(0,K.useCallback)((D,U,j=!0)=>j?v(D,U):g({type:Ve,payload:{filter:ee(D),displayedFilters:U}}),C),O=(0,K.useCallback)(D=>{g({type:Mt,payload:D})},C),F=(0,K.useCallback)((D,U)=>{g({type:Ct,payload:{filterName:D,defaultValue:U}})},C);return[m({displayedFilters:L,filterValues:b,requestSignature:C},y),{changeParams:g,setPage:M,setPerPage:P,setSort:T,setFilters:A,hideFilter:O,showFilter:F}]},"useListParams"),Ou=["page","perPage","sort","order","filter","displayedFilters"],Uu=n((e,t)=>{if(e[t]&&typeof e[t]=="string")try{e[t]=JSON.parse(e[t])}catch{delete e[t]}},"parseObject"),ju=n(({search:e})=>{let t=(0,Nu.default)((0,Bo.parse)(e),(r,o)=>Ou.indexOf(o)!==-1);return Uu(t,"filter"),Uu(t,"displayedFilters"),t},"parseQueryFromLocation"),ku=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),Vu=n(({queryFromLocation:e,params:t,filterDefaultValues:r,sort:o,perPage:a})=>{let s=Object.keys(e).length>0?e:ku(t)?m({},t):{filter:r||{}};return s.sort||(s.sort=o.field,s.order=o.order),s.perPage==null&&(s.perPage=a),s.page==null&&(s.page=1),w(m({},s),{page:ca(s.page,1),perPage:ca(s.perPage,10)})},"getQuery"),ca=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),Gu={},cp={field:"id",order:ue},Qu={};var vr=n((e={})=>{let{disableAuthentication:t,exporter:r=Pt,filterDefaultValues:o,sort:a=lp,perPage:s=10,filter:i,debounce:u=500,disableSyncWithLocation:l,queryOptions:c}=e;ae({enabled:!t});let p=z(e);if(!p)throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");if(i&&(0,bt.isValidElement)(i))throw new Error("<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");let f=_(),x=G(),[h,S]=ua({resource:p,filterDefaultValues:o,sort:a,perPage:s,debounce:u,disableSyncWithLocation:l}),[C,R]=xe(p),{data:y,pageInfo:g,total:T,error:M,isLoading:P,isFetching:b,refetch:L}=Be(p,{pagination:{page:h.page,perPage:h.perPage},sort:{field:h.sort,order:h.order},filter:m(m({},h.filter),i)},m({keepPreviousData:!0,retry:!1,onError:F=>x((F==null?void 0:F.message)||"ra.notification.http_error",{type:"warning",messageArgs:{_:F==null?void 0:F.message}})},c));(0,bt.useEffect)(()=>{if(h.page<=0||!b&&h.page>1&&y.length===0){S.setPage(1);return}if(T==null)return;let F=Math.ceil(T/h.perPage)||1;!b&&h.page>F&&S.setPage(F)},[b,h.page,h.perPage,y,S,T]);let v=(0,bt.useMemo)(()=>({field:h.sort,order:h.order}),[h.sort,h.order]),A=we(),O=f("ra.page.list",{name:A(p,2)});return{sort:v,data:y,defaultTitle:O,displayedFilters:h.displayedFilters,error:M,exporter:r,filter:i,filterValues:h.filterValues,hideFilter:S.hideFilter,isFetching:b,isLoading:P,onSelect:R.select,onToggleItem:R.toggle,onUnselectItems:R.clearSelection,page:h.page,perPage:h.perPage,refetch:L,resource:p,selectedIds:C,setFilters:S.setFilters,setPage:S.setPage,setPerPage:S.setPerPage,setSort:S.setSort,showFilter:S.showFilter,total:T,hasNextPage:g?g.hasNextPage:T!=null?h.page*h.perPage<T:void 0,hasPreviousPage:g?g.hasPreviousPage:h.page>1}},"useListController"),lp={field:"id",order:ue},la=["sort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hideFilter","isFetching","isLoading","onSelect","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages"],dp=n(e=>la.reduce((t,r)=>w(m({},t),{[r]:e[r]}),{}),"getListControllerProps"),pp=n(e=>Object.keys(e).filter(t=>!la.includes(t)).reduce((t,r)=>w(m({},t),{[r]:e[r]}),{}),"sanitizeListRestProps");var wr=E(require("react"));var _u=require("react"),vt=(0,_u.createContext)({sort:null,data:null,defaultTitle:null,displayedFilters:null,exporter:null,filterValues:null,hasNextPage:null,hasPreviousPage:null,hideFilter:null,isFetching:null,isLoading:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,refetch:null,resource:null,selectedIds:void 0,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null});vt.displayName="ListContext";var Ko=require("react"),zu=E(require("lodash/pick")),wt=(0,Ko.createContext)({displayedFilters:null,filterValues:null,hideFilter:null,setFilters:null,showFilter:null,resource:null}),da=n(e=>(0,Ko.useMemo)(()=>(0,zu.default)(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"]),[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter]),"usePickFilterContext");wt.displayName="ListFilterContext";var Xo=require("react"),Wu=E(require("lodash/pick")),Dt=(0,Xo.createContext)({sort:null,setSort:null,resource:null}),pa=n(e=>(0,Xo.useMemo)(()=>(0,Wu.default)(e,["sort","setSort","resource"]),[e.sort,e.setSort]),"usePickSortContext");Dt.displayName="ListSortContext";var en=require("react"),Hu=E(require("lodash/pick")),It=(0,en.createContext)({isLoading:null,page:null,perPage:null,setPage:null,setPerPage:null,hasPreviousPage:null,hasNextPage:null,total:void 0,resource:null});It.displayName="ListPaginationContext";var ma=n(e=>(0,en.useMemo)(()=>(0,Hu.default)(e,["isLoading","hasPreviousPage","hasNextPage","page","perPage","setPage","setPerPage","total","resource"]),[e.isLoading,e.hasPreviousPage,e.hasNextPage,e.page,e.perPage,e.setPage,e.setPerPage,e.total]),"usePickPaginationContext");var fa=n(({value:e,children:t})=>wr.createElement(vt.Provider,{value:e},wr.createElement(wt.Provider,{value:da(e)},wr.createElement(Dt.Provider,{value:pa(e)},wr.createElement(It.Provider,{value:ma(e)},t)))),"ListContextProvider");var mp=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);return ya.createElement(ye,{value:t.resource},ya.createElement(fa,{value:vr(t)},e))},"ListBase");var fp=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=vr(t);return e(a)},"ListController");var ce=require("react"),At=E(require("lodash/get")),Yu=E(require("lodash/isEqual"));var yp=n(()=>{throw new Error("refetch is not available for a ListContext built from useList based on local data")},"refetch"),Dr=n(e=>{let{data:t,error:r,filter:o=gp,isFetching:a=!1,isLoading:s=!1,page:i=1,perPage:u=1e3,sort:l=Rp}=e,c=z(e),[p,f]=W(a),[x,h]=W(s),[S,C]=W(()=>({data:t,total:t?t.length:void 0})),{page:R,setPage:y,perPage:g,setPerPage:T}=St({page:i,perPage:u}),{sort:M,setSort:P}=Tt(l),b=(0,ce.useCallback)(k=>{P(k),y(1)},[y,P]),[L,v]=xe(c),A=(0,ce.useRef)(o),[O,F]=W({}),[D,U]=W(o),j=(0,ce.useCallback)(k=>{F(I=>{let J=I,{[k]:V}=J;return N(J,[Ae(k)])}),U(I=>{let J=I,{[k]:V}=J;return N(J,[Ae(k)])})},[F,U]),$=(0,ce.useCallback)((k,I)=>{F(V=>w(m({},V),{[k]:!0})),U(V=>ee(w(m({},V),{[k]:I})))},[F,U]),ne=(0,ce.useCallback)((k,I)=>{U(ee(k)),I&&F(I),y(1)},[F,U,y]);return(0,ce.useEffect)(()=>{(0,Yu.default)(o,A.current)||(A.current=o,U(o))}),(0,ce.useEffect)(()=>{if(s||!t)return;let k=t.filter(V=>Object.entries(D).every(([H,J])=>{let X=(0,At.default)(V,H);return Array.isArray(X)?Array.isArray(J)?X.some(He=>J.includes(He)):X.includes(J):Array.isArray(J)?J.includes(X):J==X})),I=k.length;M.field&&(k=k.sort((V,H)=>(0,At.default)(V,M.field)>(0,At.default)(H,M.field)?M.order==="ASC"?1:-1:(0,At.default)(V,M.field)<(0,At.default)(H,M.field)?M.order==="ASC"?-1:1:0)),k=k.slice((R-1)*g,R*g),C({data:k,total:I})},[JSON.stringify(t),D,s,R,g,C,M.field,M.order]),(0,ce.useEffect)(()=>{a!==p&&f(a)},[a,p,f]),(0,ce.useEffect)(()=>{s!==x&&h(s)},[s,x,h]),{sort:M,data:S.data,defaultTitle:"",error:r,displayedFilters:O,filterValues:D,hasNextPage:R*g<S.total,hasPreviousPage:R>1,hideFilter:j,isFetching:p,isLoading:x,onSelect:v.select,onToggleItem:v.toggle,onUnselectItems:v.clearSelection,page:R,perPage:g,resource:void 0,refetch:yp,selectedIds:L,setFilters:ne,setPage:y,setPerPage:T,setSort:b,showFilter:$,total:S.total}},"useList"),gp={},Rp={field:null,order:null};var tn=require("react"),Ju=E(require("lodash/defaults"));var Pp=n(e=>{let t=(0,tn.useContext)(vt);return(0,tn.useMemo)(()=>(0,Ju.default)({},e!=null?hp(e):{},t),[t,e])},"useListContext"),hp=n(({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:a,filterValues:s,hasCreate:i,hideFilter:u,isFetching:l,isLoading:c,onSelect:p,onToggleItem:f,onUnselectItems:x,page:h,perPage:S,refetch:C,resource:R,selectedIds:y,setFilters:g,setPage:T,setPerPage:M,setSort:P,showFilter:b,total:L})=>({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:a,filterValues:s,hasCreate:i,hideFilter:u,isFetching:l,isLoading:c,onSelect:p,onToggleItem:f,onUnselectItems:x,page:h,perPage:S,refetch:C,resource:R,selectedIds:y,setFilters:g,setPage:T,setPerPage:M,setSort:P,showFilter:b,total:L}),"extractListContextProps");var $u=require("react");var xp=n(e=>{let t=(0,$u.useContext)(wt);return t.hideFilter?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListFilterContext");var Zu=require("react");var Cp=n(e=>{let t=(0,Zu.useContext)(It);return t.setPage?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListPaginationContext");var Bu=require("react");var Mp=n(e=>{let t=(0,Bu.useContext)(Dt);return t.setSort?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListSortContext");var qu=require("react");var hr=n(e=>{let[,{unselect:t}]=xe(e);return(0,qu.useCallback)(r=>{t(r)},[t])},"useUnselect");var Ku=require("react");var Tp=n(e=>{let[,{clearSelection:t}]=xe(e);return(0,Ku.useCallback)(()=>{t()},[t])},"useUnselectAll");var Xu=require("react");var Sp=n((e,t,r=!1)=>{let[o,a]=me(`${e}.datagrid.expanded`,[]),s=Array.isArray(o)?o.map(u=>u==t).indexOf(!0)!==-1:!1,i=(0,Xu.useCallback)(()=>{a(u=>{if(!Array.isArray(u))return[t];let l=u.findIndex(c=>c==t);return l>-1?r?[]:[...u.slice(0,l),...u.slice(l+1)]:r?[t]:[...u,t]})},[a,t,r]);return[s,i]},"useExpanded");var Lp=[],Ep={},bp={field:null,order:null},vp=n(e=>{let{filter:t=Ep,page:r=1,perPage:o=1e3,record:a,reference:s,sort:i=bp,source:u}=e,l=G(),c=(0,ec.default)(a,u)||Lp,{data:p,error:f,isLoading:x,isFetching:h,refetch:S}=qe(s,{ids:c},{onError:R=>l(typeof R=="string"?R:R.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof R=="string"?R:R&&R.message?R.message:void 0}})}),C=Dr({data:p,error:f,filter:t,isFetching:h,isLoading:x,page:r,perPage:o,sort:i});return w(m({},C),{defaultTitle:null,refetch:S,resource:s})},"useReferenceArrayFieldController");var tc=E(require("lodash/get")),Ie=require("react"),rc=E(require("lodash/isEqual"));var wp={},Dp=n(e=>{let{reference:t,record:r,target:o,filter:a=wp,source:s,page:i,perPage:u,sort:l={field:"id",order:"DESC"}}=e,c=G(),{page:p,setPage:f,perPage:x,setPerPage:h}=St({page:i,perPage:u}),{sort:S,setSort:C}=Tt(l),R=(0,Ie.useCallback)(I=>{C(I),f(1)},[f,C]),[y,g]=xe(t),T=(0,Ie.useRef)(a),[M,P]=W({}),[b,L]=W(a),v=(0,Ie.useCallback)(I=>{P(V=>{let X=V,{[I]:H}=X;return N(X,[Ae(I)])}),L(V=>{let X=V,{[I]:H}=X;return N(X,[Ae(I)])})},[P,L]),A=(0,Ie.useCallback)((I,V)=>{P(H=>w(m({},H),{[I]:!0})),L(H=>w(m({},H),{[I]:V}))},[P,L]),O=(0,Ie.useCallback)((I,V)=>{L(ee(I)),P(V),f(1)},[P,L,f]);(0,Ie.useEffect)(()=>{(0,rc.default)(a,T.current)||(T.current=a,L(a))});let{data:F,total:D,pageInfo:U,error:j,isFetching:$,isLoading:ne,refetch:k}=nr(t,{target:o,id:(0,tc.default)(r,s),pagination:{page:p,perPage:x},sort:S,filter:b},{keepPreviousData:!0,onError:I=>c(typeof I=="string"?I:I.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})});return{sort:S,data:F,defaultTitle:null,displayedFilters:M,error:j,filterValues:b,hideFilter:v,isFetching:$,isLoading:ne,onSelect:g.select,onToggleItem:g.toggle,onUnselectItems:g.clearSelection,page:p,perPage:x,refetch:k,resource:t,selectedIds:y,setFilters:O,setPage:f,setPerPage:h,hasNextPage:U?U.hasNextPage:D!=null?p*x<D:void 0,hasPreviousPage:U?U.hasPreviousPage:p>1,setSort:R,showFilter:A,total:D}},"useReferenceManyFieldController");var oc=E(require("lodash/get"));var Ip=n(e=>{let{reference:t,record:r,target:o,source:a="id"}=e,s=G(),{data:i,error:u,isFetching:l,isLoading:c,refetch:p}=nr(t,{target:o,id:(0,oc.default)(r,a),pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"},filter:{}},{enabled:!!r,onError:f=>s(typeof f=="string"?f:f.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof f=="string"?f:f&&f.message?f.message:void 0}})});return{referenceRecord:i?i[0]:void 0,error:u,isFetching:l,isLoading:c,refetch:p}},"useReferenceOneFieldController");var nc=n(e=>e&&e.error!==void 0,"isMatchingReferencesError"),ac=n(({field:e,matchingReferences:t,referenceRecord:r,translate:o=n(a=>a,"translate")})=>{let a=nc(t)?o(t.error,{_:t.error}):null,s=e.value&&!r?o("ra.input.references.single_missing",{_:"ra.input.references.single_missing"}):null;return{waiting:e.value&&s&&!t||!e.value&&!t,error:e.value&&s&&a||!e.value&&a?e.value?s:a:null,warning:s||a,choices:Array.isArray(t)?t:[r].filter(i=>i)}},"getStatusForInput"),sc="REFERENCES_STATUS_READY",Ap="REFERENCES_STATUS_INCOMPLETE",ga="REFERENCES_STATUS_EMPTY",Ra=n((e,t)=>!e.value||e.value.length===t.length?sc:t.length>0?Ap:ga,"getSelectedReferencesStatus"),ic=n(({field:e,matchingReferences:t,referenceRecords:r,translate:o=n(a=>a,"translate")})=>{let a=Ra(e,r),s=nc(t)?o(t.error,{_:t.error}):null,i=Array.isArray(t)?r.concat(t.filter(u=>r.findIndex(l=>l.id===u.id)===-1)):r;return{waiting:!t&&e.value&&a===ga||!t&&!e.value,error:s&&(!e.value||e.value&&a===ga)?o("ra.input.references.all_missing",{_:"ra.input.references.all_missing"}):null,warning:s||e.value&&a!==sc?s||o("ra.input.references.many_missing",{_:"ra.input.references.many_missing"}):null,choices:i}},"getStatusForArrayInput");var on=require("react"),dc=require("react-hook-form");var oe=require("react"),uc=E(require("lodash/debounce"));var rn=n(({resource:e,filter:t,sort:r=Op,page:o=1,perPage:a=10,debounce:s=500})=>{let[i,u]=(0,oe.useState)(Up),l=(0,oe.useRef)(),c=[e,JSON.stringify(i),JSON.stringify(t),JSON.stringify(r),o,a],p=(0,oe.useMemo)(()=>Fp({params:i,filterDefaultValues:t,sort:r,page:o,perPage:a}),c),f=(0,oe.useCallback)(P=>{l.current?l.current=Pr(l.current,P):(l.current=Pr(p,P),setTimeout(()=>{u(l.current),l.current=void 0},0))},c),x=(0,oe.useCallback)(P=>f({type:ht,payload:P}),c),h=(0,oe.useCallback)(P=>f({type:tt,payload:P}),c),S=(0,oe.useCallback)(P=>f({type:xt,payload:P}),c),C=p.filter||lc,R=p.displayedFilters||lc,y=(0,uc.default)((P,b)=>{f({type:Ve,payload:{filter:ee(P),displayedFilters:b}})},s),g=(0,oe.useCallback)((P,b,L=!0)=>{L?y(P,b):f({type:Ve,payload:{filter:ee(P),displayedFilters:b}})},c),T=(0,oe.useCallback)(P=>{f({type:Mt,payload:P})},c),M=(0,oe.useCallback)((P,b)=>{f({type:Ct,payload:{filterName:P,defaultValue:b}})},c);return[m({displayedFilters:R,filterValues:C,requestSignature:c},p),{changeParams:f,setPage:h,setPerPage:S,setSort:x,setFilters:g,hideFilter:T,showFilter:M}]},"useReferenceParams");var Fp=n(({params:e,filterDefaultValues:t,sort:r,page:o,perPage:a})=>{let s=Np(e)?m({},e):{filter:t||{}};return s.sort||(s.sort=r.field,s.order=r.order),s.page==null&&(s.page=o),s.perPage==null&&(s.perPage=a),s.page==null&&(s.page=1),w(m({},s),{page:cc(s.page,1),perPage:cc(s.perPage,10)})},"getQuery"),Np=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),cc=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),lc={},Op={field:"id",order:ue},Up={};var jp=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:a=1,perPage:s=25,sort:i={field:"id",order:"DESC"},queryOptions:u={},reference:l,source:c}=e,p=(0,dc.useWatch)({name:c}),{data:f,error:x,isLoading:h,isFetching:S,refetch:C}=qe(l,{ids:p||kp},{enabled:p!=null&&p.length>0}),[R,y]=rn({resource:l,page:a,perPage:s,sort:i,debounce:t,filter:o}),g=f?f.filter(Boolean):[],T=r?r(R.filterValues):!0,{data:M,total:P,pageInfo:b,error:L,isLoading:v,isFetching:A,refetch:O}=Be(l,{pagination:{page:R.page,perPage:R.perPage},sort:{field:R.sort,order:R.order},filter:m(m({},R.filter),o)},m({retry:!1,enabled:T},u)),F=M&&M.length>0?Vp(M,g):g.length>0?g:M,D=(0,on.useCallback)(()=>{C(),O()},[C,O]);return{sort:(0,on.useMemo)(()=>({field:R.sort,order:R.order}),[R.sort,R.order]),allChoices:F,availableChoices:M,selectedChoices:g,displayedFilters:R.displayedFilters,error:x||L,filter:o,filterValues:R.filterValues,hideFilter:y.hideFilter,isFetching:S||A,isLoading:h||v,page:R.page,perPage:R.perPage,refetch:D,resource:l,setFilters:y.setFilters,setPage:y.setPage,setPerPage:y.setPerPage,setSort:y.setSort,showFilter:y.showFilter,source:c,total:P,hasNextPage:b?b.hasNextPage:P!=null?R.page*R.perPage<P:void 0,hasPreviousPage:b?b.hasPreviousPage:R.page>1}},"useReferenceArrayInputController"),kp=[],Vp=n((e,t)=>{let r=[...e],o=e.map(a=>a.id);return t.forEach(a=>{o.includes(a.id)||(o.push(a.id),r.push(a))}),r},"mergeReferences");var nn=require("react"),pc=require("react-hook-form");var Pa=n(({reference:e,id:t,options:r})=>{let{data:o,error:a,isLoading:s,isFetching:i,refetch:u}=qe(e,{ids:[t]},r);return{referenceRecord:a?void 0:o?o[0]:void 0,refetch:u,error:a,isLoading:s,isFetching:i}},"useReference");var Gp=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:a=1,perPage:s=25,sort:i,queryOptions:u={},reference:l,source:c}=e,[p,f]=rn({resource:l,page:a,perPage:s,sort:i,debounce:t,filter:o}),x=(0,pc.useWatch)({name:c}),h=r?r(p.filterValues):!0,{data:S=[],total:C,pageInfo:R,isFetching:y,isLoading:g,error:T,refetch:M}=Be(l,{pagination:{page:p.page,perPage:p.perPage},sort:{field:p.sort,order:p.order},filter:m(m({},p.filter),o)},m({enabled:h},u)),{referenceRecord:P,refetch:b,error:L,isLoading:v,isFetching:A}=Pa({id:x,reference:l,options:{enabled:x!=null&&x!==""}}),O,F;!P||S.find(j=>j.id===x)?(O=S,F=C):(O=[P,...S],F=C==null?void 0:C+1);let D=(0,nn.useCallback)(()=>{M(),b()},[M,b]);return{sort:(0,nn.useMemo)(()=>({field:p.sort,order:p.order}),[p.sort,p.order]),allChoices:O,availableChoices:S,selectedChoices:[P],displayedFilters:p.displayedFilters,error:L||T,filter:p.filter,filterValues:p.filterValues,hideFilter:f.hideFilter,isFetching:A||y,isLoading:v||g,page:p.page,perPage:p.perPage,refetch:D,resource:l,setFilters:f.setFilters,setPage:f.setPage,setPerPage:f.setPerPage,setSort:f.setSort,showFilter:f.showFilter,source:c,total:F,hasNextPage:R?R.hasNextPage:C!=null?p.page*p.perPage<C:void 0,hasPreviousPage:R?R.hasPreviousPage:p.page>1}},"useReferenceInputController");var Ca=E(require("react"));var mc=require("react-router-dom");var Ir=n((e={})=>{let{disableAuthentication:t,id:r,queryOptions:o={}}=e;ae({enabled:!t});let a=z(e),s=_(),i=G(),u=pe(),l=rr(),{id:c}=(0,mc.useParams)(),p=r||decodeURIComponent(c),{data:f,error:x,isLoading:h,isFetching:S,refetch:C}=or(a,{id:p},m({onError:()=>{i("ra.notification.item_doesnt_exist",{type:"warning"}),u("list",a),l()},retry:!1},o));if(f&&f.id&&f.id!=p)throw new Error(`useShowController: Fetched record's id attribute (${f.id}) must match the requested 'id' (${p})`);let R=we();return{defaultTitle:s("ra.page.show",{name:R(a,1),id:p,record:f}),error:x,isLoading:h,isFetching:S,record:f,refetch:C,resource:a}},"useShowController");var ha=E(require("react"));var fc=require("react"),Ft=(0,fc.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,refetch:null,resource:null});Ft.displayName="ShowContext";var xa=n(({children:e,value:t})=>ha.createElement(Ft.Provider,{value:t},ha.createElement(Pe,{value:t&&t.record},e)),"ShowContextProvider");var Qp=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=Ir(t),s=Ca.createElement(xa,{value:a},e);return t.resource?Ca.createElement(ye,{value:t.resource},s):s},"ShowBase");var _p=n(r=>{var o=r,{children:e}=o,t=N(o,["children"]);let a=Ir(t);return e(a)},"ShowController");var an=require("react"),yc=E(require("lodash/defaults"));var zp=n(e=>{let t=(0,an.useContext)(Ft);return(0,an.useMemo)(()=>(0,yc.default)({},e!=null?Wp(e):{},t),[t,e])},"useShowContext"),Wp=n(({record:e,data:t,defaultTitle:r,isFetching:o,isLoading:a,resource:s})=>({record:e||t,data:e||t,defaultTitle:r,isFetching:o,isLoading:a,resource:s}),"extractShowContextProps");var gc=E(require("react")),Rc=require("react-hook-form"),Pc=E(require("lodash/get"));var Hp=n(e=>{let t=(0,Rc.useWatch)();return gc.createElement(Yp,m({formData:t},e))},"FormDataConsumer"),Yp=n(e=>{let f=e,{children:t,form:r,formData:o,source:a,index:s}=f,i=N(f,["children","form","formData","source","index"]),u=o,l,c=!1,p;return typeof s!="undefined"?(u=(0,Pc.default)(o,a),l=n(x=>(c=!0,`${a}.${x}`),"getSource"),p=t(m({formData:o,scopedFormData:u,getSource:l},i))):p=t(m({formData:o},i)),ct(typeof s!="undefined"&&p&&!c,`You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.

<ArrayInput source="users">
    <SimpleFormIterator>
        <TextInput source="name" />

        <FormDataConsumer>
            {({
                formData, // The whole form data
                scopedFormData, // The data for this item of the ArrayInput
                getSource, // A function to get the valid source inside an ArrayInput
                ...rest,
            }) =>
                scopedFormData.name ? (
                    <SelectInput
                        source={getSource('role')} // Will translate to "users[0].role"
                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},
                        {...rest}
                    />
                ) : null
            }
        </FormDataConsumer>
    </SimpleFormIterator>
</ArrayInput>`),p===void 0?null:p},"FormDataConsumerView"),hc=Hp;var xc=require("react"),Nt=(0,xc.createContext)(void 0);var Ot=E(require("react"));var Jp=n(e=>{let{error:t}=e,r=_();if(t.message){let{message:o,args:a}=t;return Ot.createElement(Ot.Fragment,null,r(o,m({_:o},a)))}return Ot.createElement(Ot.Fragment,null,r(t,{_:t}))},"ValidationError"),Cc=Jp;var Ar=E(require("lodash")),Mc=n((e,t=[])=>Ar.default.isObject(e)?Ar.default.reduce(e,(r,o,a)=>e[a].message!=null&&e[a].args!=null?Ar.default.merge(r,{[a]:e[a]}):Ar.default.merge(r,Mc(o,[...t,a])),{}):{[t.join(".")]:e},"flattenErrors"),sn=n(e=>async t=>{let r=await e(t);if(!r||Object.getOwnPropertyNames(r).length===0)return{values:t,errors:{}};let o=Mc(r);return{values:{},errors:Object.keys(o).reduce((a,s)=>w(m({},a),{[s]:{type:"manual",message:o[s]}}),{})}},"getSimpleValidationResolver");var Tc=require("react"),Fr=(0,Tc.createContext)(void 0);var Sc=E(require("react"));var $p=n(({children:e,value:t})=>Sc.createElement(Fr.Provider,{value:t},e),"ChoicesContextProvider");var un=require("react");var Zp=n((e={})=>{let t=(0,un.useContext)(Fr),s=Dr({data:e.choices}),{data:r}=s,o=N(s,["data"]);return(0,un.useMemo)(()=>{var i,u,l,c,p,f,x,h,S,C,R,y,g,T,M,P,b,L,v,A,O,F,D,U,j,$,ne,k,I,V,H,J,X,Z,He,Qt,Na,Oa,Ua,ja,ka,Va,Ga,Qa,_a,za;return{allChoices:(i=t==null?void 0:t.allChoices)!=null?i:r,availableChoices:(l=(u=t==null?void 0:t.availableChoices)!=null?u:e.availableChoices)!=null?l:r,selectedChoices:(p=(c=t==null?void 0:t.selectedChoices)!=null?c:e.selectedChoices)!=null?p:r,displayedFilters:(x=(f=t==null?void 0:t.displayedFilters)!=null?f:e.displayedFilters)!=null?x:o.displayedFilters,error:(S=(h=t==null?void 0:t.error)!=null?h:e.error)!=null?S:o.error,filter:(R=(C=t==null?void 0:t.filter)!=null?C:e.filter)!=null?R:o.filter,filterValues:(g=(y=t==null?void 0:t.filterValues)!=null?y:e.filterValues)!=null?g:o.filterValues,hasNextPage:(M=(T=t==null?void 0:t.hasNextPage)!=null?T:e.hasNextPage)!=null?M:o.hasNextPage,hasPreviousPage:(b=(P=t==null?void 0:t.hasPreviousPage)!=null?P:e.hasPreviousPage)!=null?b:o.hasPreviousPage,hideFilter:(v=(L=t==null?void 0:t.hideFilter)!=null?L:e.hideFilter)!=null?v:o.hideFilter,isFetching:(O=(A=t==null?void 0:t.isFetching)!=null?A:e.isFetching)!=null?O:o.isFetching,isLoading:(D=(F=t==null?void 0:t.isLoading)!=null?F:e.isLoading)!=null?D:o.isLoading,page:(j=(U=t==null?void 0:t.page)!=null?U:e.page)!=null?j:o.page,perPage:(ne=($=t==null?void 0:t.perPage)!=null?$:e.perPage)!=null?ne:o.perPage,refetch:(I=(k=t==null?void 0:t.refetch)!=null?k:e.refetch)!=null?I:o.refetch,resource:(H=(V=t==null?void 0:t.resource)!=null?V:e.resource)!=null?H:o.resource,setFilters:(X=(J=t==null?void 0:t.setFilters)!=null?J:e.setFilters)!=null?X:o.setFilters,setPage:(He=(Z=t==null?void 0:t.setPage)!=null?Z:e.setPage)!=null?He:o.setPage,setPerPage:(Na=(Qt=t==null?void 0:t.setPerPage)!=null?Qt:e.setPerPage)!=null?Na:o.setPerPage,setSort:(Ua=(Oa=t==null?void 0:t.setSort)!=null?Oa:e.setSort)!=null?Ua:o.setSort,showFilter:(ka=(ja=t==null?void 0:t.showFilter)!=null?ja:e.showFilter)!=null?ka:o.showFilter,sort:(Ga=(Va=t==null?void 0:t.sort)!=null?Va:e.sort)!=null?Ga:o.sort,source:(Qa=t==null?void 0:t.source)!=null?Qa:e.source,total:(za=(_a=t==null?void 0:t.total)!=null?_a:e.total)!=null?za:o.total}},[t,r,o,e])},"useChoicesContext");var Vt=E(require("react")),Dc=require("react-hook-form");var Lc=E(require("react")),Nr=require("react");var Ma=n(({children:e})=>{let t=(0,Nr.useRef)({}),r=(0,Nr.useRef)({}),o=(0,Nr.useMemo)(()=>({subscribe:(a,s)=>(r.current[a]||(r.current[a]=[]),r.current[a].push(s),()=>{r.current[a]=r.current[a].filter(i=>i!==s)}),getGroupFields:a=>t.current[a]||[],registerGroup:a=>{t.current[a]=t.current[a]||[]},unregisterGroup:a=>{delete t[a]},registerField:(a,s)=>{s!=null&&((t.current[s]||[]).includes(a)||(t.current[s]=[...t.current[s]||[],a],r.current[s]&&r.current[s].forEach(i=>i())))},unregisterField:(a,s)=>{if(s!=null)if(!t.current[s])console.warn(`Invalid form group ${s}`);else{let i=new Set(t.current[s]);i.delete(a),t.current[s]=Array.from(i),r.current[s]&&r.current[s].forEach(u=>u())}}}),[]);return Lc.createElement(Nt.Provider,{value:o},e)},"FormGroupsProvider");var Qe=require("react"),wc=require("react-hook-form");var Ec=E(require("lodash/merge"));function Ut(e,t){return(0,Ec.default)({},Bp(e,t),t)}n(Ut,"getFormInitialValues");function Bp(e,t){return typeof e=="object"?e:typeof e=="function"?e(t):{}}n(Bp,"getValues");var Ta=n((e,t)=>{let r=n((a,s)=>{a.forEach((i,u)=>{if(typeof i=="object"){o(i,`${s}.${u}.`);return}if(Array.isArray(i)){r(i,`${s}.${u}.`);return}t(`${s}.${u}`,{type:"server",message:i.toString()})})},"setErrorFromArray"),o=n((a,s)=>{Object.entries(a).forEach(([i,u])=>{if(typeof u=="object"){o(u,`${s}${i}.`);return}if(Array.isArray(u)){r(u,`${s}${i}.`);return}t(`${s}${i}`,{type:"server",message:u.toString()})})},"setErrorFromObject");o(e,"")},"setSubmissionErrors");var jt=require("react"),bc=require("react-hook-form"),Sa=n(e=>{let[t,r]=(0,jt.useState)(!1),{isValid:o,submitCount:a,errors:s}=(0,bc.useFormState)(e?{control:e}:void 0),i=(0,jt.useRef)(a);return(0,jt.useEffect)(()=>{a>i.current&&(i.current=a,Object.keys(s).length>0&&!o?r(!0):r(!1))},[s,o,a]),t},"useIsFormInvalid");var kt=require("react"),vc=require("react-hook-form"),cn=require("react-router-dom");var La=n((e,t,r)=>{let o=(0,kt.useContext)(cn.UNSAFE_NavigationContext).navigator,a=(0,cn.useLocation)(),s=_(),{isSubmitSuccessful:i,isSubmitting:u,dirtyFields:l}=(0,vc.useFormState)(r?{control:r}:void 0),c=Object.keys(l).length>0,p=(0,kt.useRef)(t||a.pathname);(0,kt.useEffect)(()=>{if(!e||!c)return;let f=o.block(x=>{let h=x.location.pathname.startsWith(p.current);!u&&(h||i||window.confirm(s("ra.message.unsaved_changes")))&&(f(),x.retry())});return f},[e,a,o,c,u,i,s])},"useWarnWhenUnsavedChanges");var Ea=n(e=>{let{context:t,criteriaMode:r="firstError",defaultValues:o,delayError:a,formRootPathname:s,mode:i,resolver:u,reValidateMode:l="onChange",onSubmit:c,shouldFocusError:p,shouldUnregister:f,shouldUseNativeValidation:x,warnWhenUnsavedChanges:h,validate:S}=e,C=he(e),R=Tr(),y=(0,Qe.useMemo)(()=>Ut(o,C),[JSON.stringify({defaultValues:o,record:C})]),g=u||(S?sn(S):void 0),T=(0,wc.useForm)({context:t,criteriaMode:r,defaultValues:y,delayError:a,mode:i,reValidateMode:l,resolver:g,shouldFocusError:p,shouldUnregister:f,shouldUseNativeValidation:x});(0,Qe.useEffect)(()=>{if(!C)return;let v=Ut(o,C);T.reset(v)},[T.reset,JSON.stringify(C,o)]);let M=Sa(T.control),P=G();(0,Qe.useEffect)(()=>{M&&P("ra.message.invalid_form",{type:"warning"})},[M,P]),La(h,s,T.control);let b=(0,Qe.useCallback)(async v=>{let A;c&&(A=await c(v)),c==null&&(R==null?void 0:R.save)&&(A=await R.save(v)),A!=null&&Ta(A,T.setError)},[T,c,R]),L=(0,Qe.useCallback)(v=>{v.defaultPrevented||(v.stopPropagation(),T.handleSubmit(b)(v))},[T,b]);return{form:T,handleSubmit:b,formHandleSubmit:L,isInvalid:M}},"useAugmentedForm");var qp=n(e=>{let{children:t,id:r,className:o,noValidate:a=!1}=e,s=he(e),i=z(e),{form:u,formHandleSubmit:l}=Ea(e);return Vt.createElement(aa,{value:s},Vt.createElement(In,{prefix:`resources.${i}.fields`},Vt.createElement(Dc.FormProvider,m({},u),Vt.createElement(Ma,null,Vt.createElement("form",{onSubmit:l,noValidate:a,id:r,className:o},t)))))},"Form");var ba=E(require("lodash/memoize")),Kp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_e=n(e=>typeof e=="undefined"||e===null||e===""||Array.isArray(e)&&e.length===0,"isEmpty");function Xp(e){return e.hasOwnProperty("message")}n(Xp,"isValidationErrorMessageWithArgs");var ze=n((e,t,r,o)=>typeof e=="function"?e({args:t,value:r,values:o}):t?{message:e,args:t}:e,"getMessage"),We=n(e=>(0,ba.default)(e,(...t)=>JSON.stringify(t)),"memoize"),Ic=n(e=>typeof e=="function","isFunction"),Ac=n((e,t)=>(r,o,a)=>{let s=e(r,o,a);return s?typeof s=="string"||Xp(s)?s:s.then(i=>i||t(r,o,a)):t(r,o,a)},"combine2Validators"),va=n((...e)=>(Array.isArray(e[0])?e[0]:e).filter(Ic).reduce(Ac,()=>null),"composeValidators"),em=n((...e)=>(t,r,o)=>{let a=(Array.isArray(e[0])?e[0]:e).filter(Ic);for(let s of a){let i=s(t,r,o);if(i)return i}},"composeSyncValidators"),tm=We((e="ra.validation.required")=>Object.assign((t,r)=>_e(t)?ze(e,void 0,t,r):void 0,{isRequired:!0})),rm=We((e,t="ra.validation.minLength")=>(r,o)=>!_e(r)&&r.length<e?ze(t,{min:e},r,o):void 0),om=We((e,t="ra.validation.maxLength")=>(r,o)=>!_e(r)&&r.length>e?ze(t,{max:e},r,o):void 0),nm=We((e,t="ra.validation.minValue")=>(r,o)=>!_e(r)&&r<e?ze(t,{min:e},r,o):void 0),am=We((e,t="ra.validation.maxValue")=>(r,o)=>!_e(r)&&r>e?ze(t,{max:e},r,o):void 0),sm=We((e="ra.validation.number")=>(t,r)=>!_e(t)&&isNaN(Number(t))?ze(e,void 0,t,r):void 0),Fc=(0,ba.default)((e,t="ra.validation.regex")=>(r,o)=>!_e(r)&&typeof r=="string"&&!e.test(r)?ze(t,{pattern:e},r,o):void 0,(e,t)=>e.toString()+t),im=We((e="ra.validation.email")=>Fc(Kp,e)),um=n(({args:e})=>({message:"ra.validation.oneOf",args:e}),"oneOfTypeMessage"),cm=We((e,t=um)=>(r,o)=>!_e(r)&&e.indexOf(r)===-1?ze(t,{list:e},r,o):void 0),lm=n(e=>e&&e.isRequired?!0:Array.isArray(e)?!!e.find(t=>t.isRequired):!1,"isRequired");var Nc=require("react"),Or=(0,Nc.createContext)(void 0);var Uc=E(require("react")),jc=require("react");var Oc=require("react");var Gt=n(()=>(0,Oc.useContext)(Nt),"useFormGroups");var dm=n(({children:e,name:t})=>{let r=Gt();return(0,jc.useEffect)(()=>{if(!r||!r.registerGroup||!r.unregisterGroup){console.warn("The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components");return}return r.registerGroup(t),()=>{r.unregisterGroup(t)}},[r,t]),Uc.createElement(Or.Provider,{value:t},e)},"FormGroupContextProvider");var kc=require("react"),Vc=require("react-hook-form"),ln=E(require("lodash/get"));var wa=n(e=>{let{defaultValue:t,source:r}=e,o=he(e),{getValues:a,resetField:s}=(0,Vc.useFormContext)(),i=(0,ln.default)(o,r),u=(0,ln.default)(a(),r);(0,kc.useEffect)(()=>{if(t!=null&&u==null&&i==null){if(r.split(".").some(c=>pm.test(c))){let c=r.split(".").slice(0,-1).join(".");if((0,ln.default)(a(),c)==null)return}s(r,{defaultValue:t})}})},"useApplyInputDefaultValues"),pm=/^\d+$/;var Gc=E(require("react")),rt=require("react"),dn=E(require("lodash/get"));var Da=n(({optionText:e="name",optionValue:t="id",disableValue:r="disabled",translateChoice:o=!0})=>{let a=_(),s=(0,rt.useCallback)(l=>{if((0,rt.isValidElement)(e))return Gc.createElement(Pe,{value:l},e);let c=typeof e=="function"?e(l):(0,dn.default)(l,e);return(0,rt.isValidElement)(c)?c:o?a(String(c),{_:c}):String(c)},[e,a,o]),i=(0,rt.useCallback)(l=>(0,dn.default)(l,t),[t]),u=(0,rt.useCallback)(l=>(0,dn.default)(l,r),[r]);return{getChoiceText:s,getChoiceValue:i,getDisableValue:u}},"useChoices");var ot=require("react"),Ur=E(require("lodash/get")),Qc=E(require("lodash/isEqual")),_c=require("react-hook-form");var mm=n(e=>{let{dirtyFields:t,touchedFields:r,errors:o}=(0,_c.useFormState)(),a=Gt(),[s,i]=(0,ot.useState)({errors:void 0,isDirty:!1,isTouched:!1,isValid:!0}),u=(0,ot.useCallback)(()=>{let c=a.getGroupFields(e).map(f=>({name:f,error:(0,Ur.default)(o,f,void 0),isDirty:(0,Ur.default)(t,f,!1),isValid:(0,Ur.default)(o,f,void 0)==null,isTouched:(0,Ur.default)(r,f,!1)})).filter(f=>f!=null),p=zc(c);i(f=>(0,Qc.default)(f,p)?f:p)},[t,o,r,a,e]);return(0,ot.useEffect)(()=>{u()},[JSON.stringify({dirtyFields:t,errors:o,touchedFields:r}),u]),(0,ot.useEffect)(()=>a.subscribe(e,()=>{u()}),[a,e,u]),s},"useFormGroup"),zc=n(e=>e.reduce((t,r)=>{let o=t.errors||{};return r.error&&(o[r.name]=r.error),{isDirty:t.isDirty||r.isDirty,errors:o,isTouched:t.isTouched||r.isTouched,isValid:t.isValid&&r.isValid}},{isDirty:!1,errors:void 0,isValid:!0,isTouched:!1}),"getFormGroupState");var Wc=require("react");var Ia=n(()=>(0,Wc.useContext)(Or),"useFormGroupContext");var Aa=n(()=>{let e=_();return t=>{if(t.message!=null){let{message:r,args:o}=t;return e(r,m({_:r},o))}return e(t,{_:t})}},"useGetValidationErrorMessage");var Hc=require("react"),Yc=require("react-hook-form");var fm=n((e,t)=>{let{reset:r}=(0,Yc.useFormContext)();(0,Hc.useEffect)(()=>{if(!t)return;let o=Ut(e,t);r(o)},[r,JSON.stringify(t,e)])},"useInitializeFormWithRecord");var $c=require("react"),pn=require("react-hook-form"),Zc=E(require("lodash/get"));var ym=n(e=>e&&e.isRequired?!0:Array.isArray(e)?e.some(t=>t.isRequired):!1,"isRequired"),Jc=ym;var gm=n(e=>{let L=e,{defaultValue:t,format:r,id:o,isRequired:a,name:s,onBlur:i,onChange:u,parse:l,source:c,validate:p}=L,f=N(L,["defaultValue","format","id","isRequired","name","onBlur","onChange","parse","source","validate"]),x=s||c,h=Ia(),S=Gt(),C=he(),R=Aa(),y=(0,pn.useFormContext)();(0,$c.useEffect)(()=>{if(!(!S||h==null))return S.registerField(c,h),()=>{S.unregisterField(c,h)}},[S,h,c]);let g=Array.isArray(p)?va(p):p,{field:T,fieldState:M,formState:P}=(0,pn.useController)(m({name:x,defaultValue:(0,Zc.default)(C,c,t),rules:{validate:async v=>{if(!g)return!0;let A=await g(v,y.getValues(),e);return A?R(A):!0}}},f));wa(e);let b=w(m({},T),{value:r?r(T.value):T.value,onBlur:(...v)=>{i&&i(...v),T.onBlur()},onChange:(...v)=>{var O,F,D,U,j;u&&u(...v);let A=e.type==="checkbox"&&((F=(O=v[0])==null?void 0:O.target)==null?void 0:F.value)==="on"?v[0].target.checked:(j=(U=(D=v[0])==null?void 0:D.target)==null?void 0:U.value)!=null?j:v[0];T.onChange(l?l(A):A)}});return{id:o||c,field:b,fieldState:M,formState:P,isRequired:a||Jc(p)}},"useInput");var mn=require("react"),Fa=E(require("lodash/set"));var Rm=n(({allowCreate:e,choices:t,createText:r="ra.action.create",createValue:o="@@create",emptyText:a="",emptyValue:s=null,limitChoicesToValue:i,matchSuggestion:u,optionText:l,optionValue:c,selectedItem:p,suggestionLimit:f=0,translateChoice:x})=>{let h=_(),{getChoiceText:S,getChoiceValue:C}=Da({optionText:l,optionValue:c,translateChoice:x}),R=(0,mn.useCallback)(Bc({allowCreate:e,choices:t,createText:r,createValue:o,emptyText:h(a,{_:a}),emptyValue:s,getChoiceText:S,getChoiceValue:C,limitChoicesToValue:i,matchSuggestion:u,optionText:l,optionValue:c,selectedItem:p,suggestionLimit:f}),[e,t,r,o,a,s,S,C,i,u,l,c,p,f,h]);return{getChoiceText:S,getChoiceValue:C,getSuggestions:R}},"useSuggestions"),Pm=n(e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):"","escapeRegExp"),hm=n(e=>(t,r,o=!1)=>{let a=e(r),s=(0,mn.isValidElement)(a),i=Pm(t);return s?!1:a&&!!a.match(new RegExp(o?`^${i}$`:i,"i"))},"defaultMatchSuggestion"),Bc=n(({allowCreate:e=!1,choices:t=[],createText:r="ra.action.create",createValue:o="@@create",emptyText:a="",emptyValue:s=null,optionText:i="name",optionValue:u="id",getChoiceText:l,getChoiceValue:c,limitChoicesToValue:p=!1,matchSuggestion:f=hm(l),selectedItem:x,suggestionLimit:h=0})=>S=>{let C=[];x&&!Array.isArray(x)&&f(S,x)?p?C=t.filter(g=>c(g)===c(x)):C=[...t]:C=t.filter(g=>f(S,g)||x!=null&&(Array.isArray(x)?x.some(T=>c(g)===c(T)):c(g)===c(x))),C=xm(C,h);let R=C.some(g=>f(S,g,!0));if(e){let g=!!x&&!Array.isArray(x)?f(S,x,!0):!1;!R&&!g&&C.push(Cm({optionText:i,optionValue:u,text:r,value:o}))}return C.filter((g,T)=>C.indexOf(g)===T)},"getSuggestionsFactory"),xm=n((e,t=0)=>Number.isInteger(t)&&t>0?e.slice(0,t):e,"limitSuggestions"),Cm=n(({optionText:e="name",optionValue:t="id",text:r="",value:o=null})=>{let a={};return(0,Fa.default)(a,t,o),typeof e=="string"&&(0,Fa.default)(a,e,r),a},"getSuggestion");var Mm="I18N_TRANSLATE",Tm="I18N_CHANGE_LOCALE";module.exports=ol(Sm);0&&(module.exports={AUTH_CHECK,AUTH_ERROR,AUTH_GET_PERMISSIONS,AUTH_LOGIN,AUTH_LOGOUT,AdminRouter,AuthContext,Authenticated,BasenameContextProvider,CREATE,ChoicesContext,ChoicesContextProvider,ComponentPropType,CoreAdmin,CoreAdminContext,CoreAdminRoutes,CoreAdminUI,CreateBase,CreateContext,CreateContextProvider,CreateController,CustomRoutes,DEFAULT_LOCALE,DELETE,DELETE_MANY,DataProviderContext,EditBase,EditContext,EditContextProvider,EditController,ExporterContext,FieldTitle,Form,FormDataConsumer,FormGroupContext,FormGroupContextProvider,FormGroupsContext,FormGroupsProvider,GET_LIST,GET_MANY,GET_MANY_REFERENCE,GET_ONE,HIDE_FILTER,HttpError,I18N_CHANGE_LOCALE,I18N_TRANSLATE,I18nContext,I18nContextProvider,InferenceTypes,InferredElement,LabelPrefixContext,LabelPrefixContextProvider,ListBase,ListContext,ListContextProvider,ListController,ListFilterContext,ListPaginationContext,ListSortContext,NotificationContext,NotificationContextProvider,OptionalRecordContextProvider,Ready,RecordContext,RecordContextProvider,Resource,ResourceContext,ResourceContextProvider,ResourceDefinitionContext,ResourceDefinitionContextProvider,SET_FILTER,SET_PAGE,SET_PER_PAGE,SET_SORT,SHOW_FILTER,SORT_ASC,SORT_DESC,SaveContext,SaveContextProvider,ShowBase,ShowContext,ShowContextProvider,ShowController,StoreContext,StoreContextProvider,StoreSetter,TestTranslationProvider,TranslatableContext,TranslatableContextProvider,UPDATE,UPDATE_MANY,ValidationError,WithPermissions,WithRecord,choices,combine2Validators,combineDataProviders,composeSyncValidators,composeValidators,convertLegacyAuthProvider,convertLegacyDataProvider,defaultDataProvider,defaultExporter,downloadCSV,email,escapePath,fetchActionsWithArrayOfIdentifiedRecordsResponse,fetchActionsWithArrayOfRecordsResponse,fetchActionsWithRecordResponse,fetchActionsWithTotalResponse,fetchRelatedRecords,fetchUtils,getElementsFromRecords,getFieldLabelTranslationArgs,getFormGroupState,getListControllerProps,getMutationMode,getNumberOrDefault,getQuery,getRecordFromLocation,getSelectedReferencesStatus,getSimpleValidationResolver,getStatusForArrayInput,getStatusForInput,getStorage,getSuggestionsFactory,getValuesFromRecords,hasCustomParams,inferTypeFromValues,injectedProps,isRequired,linkToRecord,localStorageStore,maxLength,maxValue,memoryStore,mergeRefs,mergeTranslations,minLength,minValue,number,parseQueryFromLocation,queryReducer,regex,removeDoubleSlashes,removeEmpty,removeKey,required,resolveBrowserLocale,resolveRedirectTo,sanitizeFetchType,sanitizeListRestProps,setSubmissionErrors,shallowEqual,testDataProvider,undoableEventEmitter,useApplyInputDefaultValues,useAugmentedForm,useAuthProvider,useAuthState,useAuthenticated,useBasename,useCheckAuth,useCheckMinimumRequiredProps,useChoices,useChoicesContext,useCreate,useCreateContext,useCreateController,useCreatePath,useDataProvider,useDeepCompareEffect,useDelete,useDeleteMany,useDeleteWithConfirmController,useDeleteWithUndoController,useEditContext,useEditController,useEventCallback,useExpanded,useFilterState,useFormGroup,useFormGroupContext,useGetIdentity,useGetList,useGetMany,useGetManyAggregate,useGetManyReference,useGetOne,useGetPermissions,useGetResourceLabel,useGetValidationErrorMessage,useI18nProvider,useInitializeFormWithRecord,useInput,useIsDataLoaded,useIsFormInvalid,useIsMounted,useLabelPrefix,useList,useListContext,useListController,useListFilterContext,useListPaginationContext,useListParams,useListSortContext,useLoading,useLocale,useLocaleState,useLogin,useLogout,useLogoutIfAccessDenied,useMutationMiddlewares,useNotificationContext,useNotify,usePaginationState,usePermissions,usePermissionsOptimized,usePickFilterContext,usePickPaginationContext,usePickSaveContext,usePickSortContext,usePrevious,useRecordContext,useRecordSelection,useRedirect,useReference,useReferenceArrayFieldController,useReferenceArrayInputController,useReferenceInputController,useReferenceManyFieldController,useReferenceOneFieldController,useRefresh,useRegisterMutationMiddleware,useRemoveFromStore,useResetStore,useResourceContext,useResourceDefinition,useResourceDefinitionContext,useResourceDefinitions,useSafeSetState,useSaveContext,useScrollToTop,useSetLocale,useShowContext,useShowController,useSortState,useStore,useStoreContext,useSuggestions,useTimeout,useTranslatable,useTranslatableContext,useTranslate,useTranslateLabel,useUnselect,useUnselectAll,useUpdate,useUpdateMany,useWarnWhenUnsavedChanges,useWhyDidYouUpdate,validQueryParams,warning});
//# sourceMappingURL=index.js.map